<!doctype html>

<html dir="ltr" mozdisallowselectionprint>
  <head>
          
<style>
/* MERKEZ BUTTON STİLLERİ */
.center-start-button {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    color: white;
    border: none;
    padding: 20px 40px;
    border-radius: 25px;
    cursor: pointer;
    font-size: 18px;
    font-weight: bold;
    transition: all 0.3s ease;
    box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
    z-index: 1001;
    text-align: center;
    line-height: 1.4;
}

.center-start-button:hover {
    background: linear-gradient(135deg, #c0392b, #a53125);
    transform: translate(-50%, -50%) scale(1.05);
    box-shadow: 0 12px 35px rgba(231, 76, 60, 0.6);
}

.center-start-button:active {
    transform: translate(-50%, -50%) scale(0.98);
}

.center-start-button.hidden {
    display: none;
}

/* ÖZEL TOOLBAR - AŞAĞIDA */
.custom-toolbar {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: transparent;
    padding: 8px 5px;
    display: flex;
    justify-content: space-around;
    gap: 8px;
    z-index: 1000;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
    height: 50px;
    margin-top: 20px;
    display: none; /* Başlangıçta gizli */
}

.custom-toolbar.visible {
    display: flex;
}

.custom-toolbar button {
    background: #e74c3c;
    color: white;
    border: none;
    padding: 8px 12px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 12px;
    font-weight: bold;
    transition: all 0.3s ease;
    min-width: 70px;
    height: 34px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    max-width: 80px;
    box-shadow: 0 2px 8px rgba(231, 76, 60, 0.4);
}

.custom-toolbar button:hover {
    background: #c0392b;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(231, 76, 60, 0.6);
}

.custom-toolbar button:active {
    transform: translateY(0);
    box-shadow: 0 1px 4px rgba(231, 76, 60, 0.4);
}

/* ÇİZİM MODU - AKTİF (Yeşil) */
.custom-toolbar .draw-mode-active {
    background: #27ae60 !important;
    box-shadow: 0 2px 8px rgba(39, 174, 96, 0.6);
}

.custom-toolbar .draw-mode-active:hover {
    background: #219a52 !important;
    box-shadow: 0 4px 12px rgba(39, 174, 96, 0.8);
}

/* TAŞIMA MODU - AKTİF (Mavi) */
.custom-toolbar .move-mode-active {
    background: #3498db !important;
    box-shadow: 0 2px 8px rgba(52, 152, 219, 0.6);
}

.custom-toolbar .move-mode-active:hover {
    background: #2980b9 !important;
    box-shadow: 0 4px 12px rgba(52, 152, 219, 0.8);
}

/* MOD GÖSTERGESİ */
.mode-indicator {
    position: fixed;
    bottom: 60px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: bold;
    z-index: 999;
    backdrop-filter: blur(10px);
    animation: fadeInOut 0.3s ease;
    display: none;
}

@keyframes fadeInOut {
    0% { opacity: 0; transform: translateX(-50%) translateY(10px); }
    100% { opacity: 1; transform: translateX(-50%) translateY(0); }
}

/* PDF viewer'ı toolbar için ayarla - AŞAĞIDA */
#viewerContainer {
    top: 0 !important;
    height: calc(100vh - 70px) !important;
    bottom: 70px !important;
}

/* Mobil için responsive */
@media (max-width: 480px) {
    .center-start-button {
        padding: 16px 32px;
        font-size: 16px;
        border-radius: 20px;
    }
    
    .custom-toolbar {
        padding: 6px 3px;
        height: 45px;
        gap: 5px;
        margin-top: 15px;
    }
    
    .custom-toolbar button {
        padding: 6px 8px;
        font-size: 11px;
        min-width: 60px;
        height: 32px;
        border-radius: 15px;
    }
    
    .mode-indicator {
        bottom: 50px;
        font-size: 11px;
        padding: 6px 12px;
    }
    
    #viewerContainer {
        height: calc(100vh - 60px) !important;
        bottom: 60px !important;
    }
}

/* Arka planı daha temiz göster */
body {
    background: #f8f9fa;
}
</style>










      
      
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="google" content="notranslate" />
    <title>PDF.js viewer</title>

<link rel="resource" type="application/l10n" href="locale/locale.json" />
<script src="../build/pdf.mjs" type="module"></script>
<script src="lang.js"></script>
    <link rel="stylesheet" href="viewer.css" />

  <script src="viewer.mjs" type="module"></script>
  </head>
  


   



  <body tabindex="0">
      
      
   
   
   
<!-- MERKEZ BUTTON -->
<button id="centerStartButton" class="center-start-button">
    İMZALANACAK PDF'Yİ<br>
    Seçin
</button>

<!-- CUSTOM TOOLBAR (Başlangıçta gizli) -->
<div class="custom-toolbar" id="customToolbar">
    <button id="customOpen">PDF'Yİ SEÇ</button>
    <button id="customDraw">İMZA AT</button>
    <button id="customImage">İMZA EKLE</button>
    <button id="customSave">KAYDET</button>
</div>


      
    <div id="outerContainer">
      <span id="viewer-alert" class="visuallyHidden" role="alert"></span>

      <div id="sidebarContainer">
        <div id="toolbarSidebar" class="toolbarHorizontalGroup">
          <div id="toolbarSidebarLeft">
            <div id="sidebarViewButtons" class="toolbarHorizontalGroup toggled" role="radiogroup">
              <button
                id="viewThumbnail"
                class="toolbarButton toggled"
                type="button"
                tabindex="0"
                data-l10n-id="pdfjs-thumbs-button"
                role="radio"
                aria-checked="true"
                aria-controls="thumbnailView"
              >
                <span data-l10n-id="pdfjs-thumbs-button-label"></span>
              </button>
              <button
                id="viewOutline"
                class="toolbarButton"
                type="button"
                tabindex="0"
                data-l10n-id="pdfjs-document-outline-button"
                role="radio"
                aria-checked="false"
                aria-controls="outlineView"
              >
                <span data-l10n-id="pdfjs-document-outline-button-label"></span>
              </button>
              <button
                id="viewAttachments"
                class="toolbarButton"
                type="button"
                tabindex="0"
                data-l10n-id="pdfjs-attachments-button"
                role="radio"
                aria-checked="false"
                aria-controls="attachmentsView"
              >
                <span data-l10n-id="pdfjs-attachments-button-label"></span>
              </button>
              <button
                id="viewLayers"
                class="toolbarButton"
                type="button"
                tabindex="0"
                data-l10n-id="pdfjs-layers-button"
                role="radio"
                aria-checked="false"
                aria-controls="layersView"
              >
                <span data-l10n-id="pdfjs-layers-button-label"></span>
              </button>
            </div>
          </div>

          <div id="toolbarSidebarRight">
            <div id="outlineOptionsContainer" class="toolbarHorizontalGroup">
              <div class="verticalToolbarSeparator"></div>

              <button
                id="currentOutlineItem"
                class="toolbarButton"
                type="button"
                disabled="disabled"
                tabindex="0"
                data-l10n-id="pdfjs-current-outline-item-button"
              >
                <span data-l10n-id="pdfjs-current-outline-item-button-label"></span>
              </button>
            </div>
          </div>
        </div>
        <div id="sidebarContent">
          <div id="thumbnailView"></div>
          <div id="outlineView" class="hidden"></div>
          <div id="attachmentsView" class="hidden"></div>
          <div id="layersView" class="hidden"></div>
        </div>
        <div id="sidebarResizer"></div>
      </div>
      <!-- sidebarContainer -->

      <div id="mainContainer">
        <div class="toolbar">
          <div id="toolbarContainer">
            <div id="toolbarViewer" class="toolbarHorizontalGroup">
              <div id="toolbarViewerLeft" class="toolbarHorizontalGroup">
                <button
                  id="sidebarToggleButton"
                  class="toolbarButton"
                  type="button"
                  tabindex="0"
                  data-l10n-id="pdfjs-toggle-sidebar-button"
                  aria-expanded="false"
                  aria-haspopup="true"
                  aria-controls="sidebarContainer"
                >
                  <span data-l10n-id="pdfjs-toggle-sidebar-button-label"></span>
                </button>
                <div class="toolbarButtonSpacer"></div>
                <div class="toolbarButtonWithContainer">
                  <button
                    id="viewFindButton"
                    class="toolbarButton"
                    type="button"
                    tabindex="0"
                    data-l10n-id="pdfjs-findbar-button"
                    aria-expanded="false"
                    aria-controls="findbar"
                  >
                    <span data-l10n-id="pdfjs-findbar-button-label"></span>
                  </button>
                  <div class="hidden doorHanger toolbarHorizontalGroup" id="findbar">
                    <div id="findInputContainer" class="toolbarHorizontalGroup">
                      <span class="loadingInput end toolbarHorizontalGroup">
                        <input id="findInput" class="toolbarField" tabindex="0" data-l10n-id="pdfjs-find-input" aria-invalid="false" />
                      </span>
                      <div class="toolbarHorizontalGroup">
                        <button id="findPreviousButton" class="toolbarButton" type="button" tabindex="0" data-l10n-id="pdfjs-find-previous-button">
                          <span data-l10n-id="pdfjs-find-previous-button-label"></span>
                        </button>
                        <div class="splitToolbarButtonSeparator"></div>
                        <button id="findNextButton" class="toolbarButton" type="button" tabindex="0" data-l10n-id="pdfjs-find-next-button">
                          <span data-l10n-id="pdfjs-find-next-button-label"></span>
                        </button>
                      </div>
                    </div>

                    <div id="findbarOptionsOneContainer" class="toolbarHorizontalGroup">
                      <div class="toggleButton toolbarLabel">
                        <input type="checkbox" id="findHighlightAll" tabindex="0" />
                        <label for="findHighlightAll" data-l10n-id="pdfjs-find-highlight-checkbox"></label>
                      </div>
                      <div class="toggleButton toolbarLabel">
                        <input type="checkbox" id="findMatchCase" tabindex="0" />
                        <label for="findMatchCase" data-l10n-id="pdfjs-find-match-case-checkbox-label"></label>
                      </div>
                    </div>
                    <div id="findbarOptionsTwoContainer" class="toolbarHorizontalGroup">
                      <div class="toggleButton toolbarLabel">
                        <input type="checkbox" id="findMatchDiacritics" tabindex="0" />
                        <label for="findMatchDiacritics" data-l10n-id="pdfjs-find-match-diacritics-checkbox-label"></label>
                      </div>
                      <div class="toggleButton toolbarLabel">
                        <input type="checkbox" id="findEntireWord" tabindex="0" />
                        <label for="findEntireWord" data-l10n-id="pdfjs-find-entire-word-checkbox-label"></label>
                      </div>
                    </div>

                    <div id="findbarMessageContainer" class="toolbarHorizontalGroup" aria-live="polite">
                      <span id="findResultsCount" class="toolbarLabel"></span>
                      <span id="findMsg" class="toolbarLabel"></span>
                    </div>
                  </div>
                  <!-- findbar -->
                </div>
                <div class="toolbarHorizontalGroup hiddenSmallView">
                  <button class="toolbarButton" type="button" id="previous" tabindex="0" data-l10n-id="pdfjs-previous-button">
                    <span data-l10n-id="pdfjs-previous-button-label"></span>
                  </button>
                  <div class="splitToolbarButtonSeparator"></div>
                  <button class="toolbarButton" type="button" id="next" tabindex="0" data-l10n-id="pdfjs-next-button">
                    <span data-l10n-id="pdfjs-next-button-label"></span>
                  </button>
                </div>
                <div class="toolbarHorizontalGroup">
                  <span class="loadingInput start toolbarHorizontalGroup">
                    <input
                      type="number"
                      id="pageNumber"
                      class="toolbarField"
                      value="1"
                      min="1"
                      tabindex="0"
                      data-l10n-id="pdfjs-page-input"
                      autocomplete="off"
                    />
                  </span>
                  <span id="numPages" class="toolbarLabel"></span>
                </div>
              </div>
              <div id="toolbarViewerMiddle" class="toolbarHorizontalGroup">
                <div class="toolbarHorizontalGroup">
                  <button id="zoomOutButton" class="toolbarButton" type="button" tabindex="0" data-l10n-id="pdfjs-zoom-out-button">
                    <span data-l10n-id="pdfjs-zoom-out-button-label"></span>
                  </button>
                  <div class="splitToolbarButtonSeparator"></div>
                  <button id="zoomInButton" class="toolbarButton" type="button" tabindex="0" data-l10n-id="pdfjs-zoom-in-button">
                    <span data-l10n-id="pdfjs-zoom-in-button-label"></span>
                  </button>
                </div>
                <span id="scaleSelectContainer" class="dropdownToolbarButton">
                  <select id="scaleSelect" tabindex="0" data-l10n-id="pdfjs-zoom-select">
                    <option id="pageAutoOption" value="auto" selected="selected" data-l10n-id="pdfjs-page-scale-auto"></option>
                    <option id="pageActualOption" value="page-actual" data-l10n-id="pdfjs-page-scale-actual"></option>
                    <option id="pageFitOption" value="page-fit" data-l10n-id="pdfjs-page-scale-fit"></option>
                    <option id="pageWidthOption" value="page-width" data-l10n-id="pdfjs-page-scale-width"></option>
                    <option
                      id="customScaleOption"
                      value="custom"
                      disabled="disabled"
                      hidden="true"
                      data-l10n-id="pdfjs-page-scale-percent"
                      data-l10n-args='{ "scale": 0 }'
                    ></option>
                    <option value="0.5" data-l10n-id="pdfjs-page-scale-percent" data-l10n-args='{ "scale": 50 }'></option>
                    <option value="0.75" data-l10n-id="pdfjs-page-scale-percent" data-l10n-args='{ "scale": 75 }'></option>
                    <option value="1" data-l10n-id="pdfjs-page-scale-percent" data-l10n-args='{ "scale": 100 }'></option>
                    <option value="1.25" data-l10n-id="pdfjs-page-scale-percent" data-l10n-args='{ "scale": 125 }'></option>
                    <option value="1.5" data-l10n-id="pdfjs-page-scale-percent" data-l10n-args='{ "scale": 150 }'></option>
                    <option value="2" data-l10n-id="pdfjs-page-scale-percent" data-l10n-args='{ "scale": 200 }'></option>
                    <option value="3" data-l10n-id="pdfjs-page-scale-percent" data-l10n-args='{ "scale": 300 }'></option>
                    <option value="4" data-l10n-id="pdfjs-page-scale-percent" data-l10n-args='{ "scale": 400 }'></option>
                  </select>
                </span>
              </div>
              <div id="toolbarViewerRight" class="toolbarHorizontalGroup">
                <div id="editorModeButtons" class="toolbarHorizontalGroup">
                  <div id="editorComment" class="toolbarButtonWithContainer" hidden="true">
                    <button
                      id="editorCommentButton"
                      class="toolbarButton"
                      type="button"
                      tabindex="0"
                      disabled="disabled"
                      aria-expanded="false"
                      aria-haspopup="true"
                      aria-controls="editorCommentParamsToolbar"
                      data-l10n-id="pdfjs-editor-comment-button"
                    >
                      <span data-l10n-id="pdfjs-editor-comment-button-label"></span>
                    </button>
                    <div class="editorParamsToolbar hidden menu" id="editorCommentParamsToolbar">
                      <div id="editorCommentsSidebar" class="menuContainer comment sidebar" role="landmark" aria-labelledby="editorCommentsSidebarHeader">
                        <div id="editorCommentsSidebarResizer" class="sidebarResizer" role="separator" aria-controls="editorCommentsSidebar" tabindex="0"></div>
                        <div id="editorCommentsSidebarHeader" role="heading" aria-level="2">
                          <span class="commentCount">
                            <span id="editorCommentsSidebarTitle" data-l10n-id="pdfjs-editor-comments-sidebar-title" data-l10n-args='{ "count": 0 }'></span>
                            <span id="editorCommentsSidebarCount"></span>
                          </span>
                          <button id="editorCommentsSidebarCloseButton" type="button" tabindex="0" data-l10n-id="pdfjs-editor-comments-sidebar-close-button">
                            <span data-l10n-id="pdfjs-editor-comments-sidebar-close-button-label"></span>
                          </button>
                        </div>
                        <div id="editorCommentsSidebarListContainer" tabindex="-1">
                          <ul id="editorCommentsSidebarList"></ul>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div id="editorSignature" class="toolbarButtonWithContainer" hidden="true">
                    <button
                      id="editorSignatureButton"
                      class="toolbarButton"
                      type="button"
                      tabindex="0"
                      disabled="disabled"
                      aria-expanded="false"
                      aria-haspopup="true"
                      aria-controls="editorSignatureParamsToolbar"
                      data-l10n-id="pdfjs-editor-signature-button"
                    >
                      <span data-l10n-id="pdfjs-editor-signature-button-label"></span>
                    </button>
                    <div class="editorParamsToolbar hidden doorHangerRight menu" id="editorSignatureParamsToolbar">
                      <div id="addSignatureDoorHanger" class="menuContainer" role="region" data-l10n-id="pdfjs-editor-add-signature-container">
                        <button
                          id="editorSignatureAddSignature"
                          class="toolbarButton labeled"
                          type="button"
                          tabindex="0"
                          data-l10n-id="pdfjs-editor-signature-add-signature-button"
                        >
                          <span data-l10n-id="pdfjs-editor-signature-add-signature-button-label" class="editorParamsLabel"></span>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div id="editorHighlight" class="toolbarButtonWithContainer">
                    <button
                      id="editorHighlightButton"
                      class="toolbarButton"
                      type="button"
                      disabled="disabled"
                      aria-expanded="false"
                      aria-haspopup="true"
                      aria-controls="editorHighlightParamsToolbar"
                      tabindex="0"
                      data-l10n-id="pdfjs-editor-highlight-button"
                    >
                      <span data-l10n-id="pdfjs-editor-highlight-button-label"></span>
                    </button>
                    <div class="editorParamsToolbar hidden doorHangerRight" id="editorHighlightParamsToolbar">
                      <div id="highlightParamsToolbarContainer" class="editorParamsToolbarContainer">
                        <div id="editorHighlightColorPicker" class="colorPicker">
                          <span id="highlightColorPickerLabel" class="editorParamsLabel" data-l10n-id="pdfjs-editor-highlight-colorpicker-label"></span>
                        </div>
                        <div id="editorHighlightThickness">
                          <label
                            for="editorFreeHighlightThickness"
                            class="editorParamsLabel"
                            data-l10n-id="pdfjs-editor-free-highlight-thickness-input"
                          ></label>
                          <div class="thicknessPicker">
                            <input
                              type="range"
                              id="editorFreeHighlightThickness"
                              class="editorParamsSlider"
                              data-l10n-id="pdfjs-editor-free-highlight-thickness-title"
                              value="12"
                              min="8"
                              max="24"
                              step="1"
                              tabindex="0"
                            />
                          </div>
                        </div>
                        <div id="editorHighlightVisibility">
                          <div class="divider"></div>
                          <div class="toggler">
                            <label for="editorHighlightShowAll" class="editorParamsLabel" data-l10n-id="pdfjs-editor-highlight-show-all-button-label"></label>
                            <button
                              id="editorHighlightShowAll"
                              class="toggle-button"
                              type="button"
                              data-l10n-id="pdfjs-editor-highlight-show-all-button"
                              aria-pressed="true"
                              tabindex="0"
                            ></button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div id="editorFreeText" class="toolbarButtonWithContainer">
                    <button
                      id="editorFreeTextButton"
                      class="toolbarButton"
                      type="button"
                      disabled="disabled"
                      aria-expanded="false"
                      aria-haspopup="true"
                      aria-controls="editorFreeTextParamsToolbar"
                      tabindex="0"
                      data-l10n-id="pdfjs-editor-free-text-button"
                    >
                      <span data-l10n-id="pdfjs-editor-free-text-button-label"></span>
                    </button>
                    <div class="editorParamsToolbar hidden doorHangerRight" id="editorFreeTextParamsToolbar">
                      <div class="editorParamsToolbarContainer">
                        <div class="editorParamsSetter">
                          <label for="editorFreeTextColor" class="editorParamsLabel" data-l10n-id="pdfjs-editor-free-text-color-input"></label>
                          <input type="color" id="editorFreeTextColor" class="editorParamsColor" tabindex="0" />
                        </div>
                        <div class="editorParamsSetter">
                          <label for="editorFreeTextFontSize" class="editorParamsLabel" data-l10n-id="pdfjs-editor-free-text-size-input"></label>
                          <input type="range" id="editorFreeTextFontSize" class="editorParamsSlider" value="10" min="5" max="100" step="1" tabindex="0" />
                        </div>
                      </div>
                    </div>
                  </div>
                  <div id="editorInk" class="toolbarButtonWithContainer">
                    <button
                      id="editorInkButton"
                      class="toolbarButton"
                      type="button"
                      disabled="disabled"
                      aria-expanded="false"
                      aria-haspopup="true"
                      aria-controls="editorInkParamsToolbar"
                      tabindex="0"
                      data-l10n-id="pdfjs-editor-ink-button"
                    >
                      <span data-l10n-id="pdfjs-editor-ink-button-label"></span>
                    </button>
                    <div class="editorParamsToolbar hidden doorHangerRight" id="editorInkParamsToolbar">
                      <div class="editorParamsToolbarContainer">
                        <div class="editorParamsSetter">
                          <label for="editorInkColor" class="editorParamsLabel" data-l10n-id="pdfjs-editor-ink-color-input"></label>
                          <input type="color" id="editorInkColor" class="editorParamsColor" tabindex="0" />
                        </div>
                        <div class="editorParamsSetter">
                          <label for="editorInkThickness" class="editorParamsLabel" data-l10n-id="pdfjs-editor-ink-thickness-input"></label>
                          <input type="range" id="editorInkThickness" class="editorParamsSlider" value="1" min="1" max="20" step="1" tabindex="0" />
                        </div>
                        <div class="editorParamsSetter">
                          <label for="editorInkOpacity" class="editorParamsLabel" data-l10n-id="pdfjs-editor-ink-opacity-input"></label>
                          <input type="range" id="editorInkOpacity" class="editorParamsSlider" value="1" min="0.05" max="1" step="0.05" tabindex="0" />
                        </div>
                      </div>
                    </div>
                  </div>
                  <div id="editorStamp" class="toolbarButtonWithContainer">
                    <button
                      id="editorStampButton"
                      class="toolbarButton"
                      type="button"
                      disabled="disabled"
                      aria-expanded="false"
                      aria-haspopup="true"
                      aria-controls="editorStampParamsToolbar"
                      tabindex="0"
                      data-l10n-id="pdfjs-editor-stamp-button"
                    >
                      <span data-l10n-id="pdfjs-editor-stamp-button-label"></span>
                    </button>
                    <div class="editorParamsToolbar hidden doorHangerRight menu" id="editorStampParamsToolbar">
                      <div class="menuContainer">
                        <button
                          id="editorStampAddImage"
                          class="toolbarButton labeled"
                          type="button"
                          tabindex="0"
                          data-l10n-id="pdfjs-editor-stamp-add-image-button"
                        >
                          <span class="editorParamsLabel" data-l10n-id="pdfjs-editor-stamp-add-image-button-label"></span>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <div id="editorModeSeparator" class="verticalToolbarSeparator"></div>

                <div class="toolbarHorizontalGroup hiddenMediumView">
                  <button id="printButton" class="toolbarButton" type="button" tabindex="0" data-l10n-id="pdfjs-print-button">
                    <span data-l10n-id="pdfjs-print-button-label"></span>
                  </button>

                  <button id="downloadButton" class="toolbarButton" type="button" tabindex="0" data-l10n-id="pdfjs-save-button">
                    <span data-l10n-id="pdfjs-save-button-label"></span>
                  </button>
                </div>

                <div class="verticalToolbarSeparator hiddenMediumView"></div>

                <div id="secondaryToolbarToggle" class="toolbarButtonWithContainer">
                  <button
                    id="secondaryToolbarToggleButton"
                    class="toolbarButton"
                    type="button"
                    tabindex="0"
                    data-l10n-id="pdfjs-tools-button"
                    aria-expanded="false"
                    aria-haspopup="true"
                    aria-controls="secondaryToolbar"
                  >
                    <span data-l10n-id="pdfjs-tools-button-label"></span>
                  </button>
                  <div id="secondaryToolbar" class="hidden doorHangerRight menu">
                    <div id="secondaryToolbarButtonContainer" class="menuContainer">
                      <button id="secondaryOpenFile" class="toolbarButton labeled" type="button" tabindex="0" data-l10n-id="pdfjs-open-file-button">
                        <span data-l10n-id="pdfjs-open-file-button-label"></span>
                      </button>

                      <div class="visibleMediumView">
                        <button id="secondaryPrint" class="toolbarButton labeled" type="button" tabindex="0" data-l10n-id="pdfjs-print-button">
                          <span data-l10n-id="pdfjs-print-button-label"></span>
                        </button>

                        <button id="secondaryDownload" class="toolbarButton labeled" type="button" tabindex="0" data-l10n-id="pdfjs-save-button">
                          <span data-l10n-id="pdfjs-save-button-label"></span>
                        </button>

                      </div>

                      <div class="horizontalToolbarSeparator"></div>

                      <button id="presentationMode" class="toolbarButton labeled" type="button" tabindex="0" data-l10n-id="pdfjs-presentation-mode-button">
                        <span data-l10n-id="pdfjs-presentation-mode-button-label"></span>
                      </button>

                      <a href="#" id="viewBookmark" class="toolbarButton labeled" tabindex="0" data-l10n-id="pdfjs-bookmark-button">
                        <span data-l10n-id="pdfjs-bookmark-button-label"></span>
                      </a>

                      <div id="viewBookmarkSeparator" class="horizontalToolbarSeparator"></div>

                      <button id="firstPage" class="toolbarButton labeled" type="button" tabindex="0" data-l10n-id="pdfjs-first-page-button">
                        <span data-l10n-id="pdfjs-first-page-button-label"></span>
                      </button>
                      <button id="lastPage" class="toolbarButton labeled" type="button" tabindex="0" data-l10n-id="pdfjs-last-page-button">
                        <span data-l10n-id="pdfjs-last-page-button-label"></span>
                      </button>

                      <div class="horizontalToolbarSeparator"></div>

                      <button id="pageRotateCw" class="toolbarButton labeled" type="button" tabindex="0" data-l10n-id="pdfjs-page-rotate-cw-button">
                        <span data-l10n-id="pdfjs-page-rotate-cw-button-label"></span>
                      </button>
                      <button id="pageRotateCcw" class="toolbarButton labeled" type="button" tabindex="0" data-l10n-id="pdfjs-page-rotate-ccw-button">
                        <span data-l10n-id="pdfjs-page-rotate-ccw-button-label"></span>
                      </button>

                      <div class="horizontalToolbarSeparator"></div>

                      <div id="cursorToolButtons" role="radiogroup">
                        <button
                          id="cursorSelectTool"
                          class="toolbarButton labeled toggled"
                          type="button"
                          tabindex="0"
                          data-l10n-id="pdfjs-cursor-text-select-tool-button"
                          role="radio"
                          aria-checked="true"
                        >
                          <span data-l10n-id="pdfjs-cursor-text-select-tool-button-label"></span>
                        </button>
                        <button
                          id="cursorHandTool"
                          class="toolbarButton labeled"
                          type="button"
                          tabindex="0"
                          data-l10n-id="pdfjs-cursor-hand-tool-button"
                          role="radio"
                          aria-checked="false"
                        >
                          <span data-l10n-id="pdfjs-cursor-hand-tool-button-label"></span>
                        </button>
                      </div>

                      <div class="horizontalToolbarSeparator"></div>

                      <div id="scrollModeButtons" role="radiogroup">
                        <button
                          id="scrollPage"
                          class="toolbarButton labeled"
                          type="button"
                          tabindex="0"
                          data-l10n-id="pdfjs-scroll-page-button"
                          role="radio"
                          aria-checked="false"
                        >
                          <span data-l10n-id="pdfjs-scroll-page-button-label"></span>
                        </button>
                        <button
                          id="scrollVertical"
                          class="toolbarButton labeled toggled"
                          type="button"
                          tabindex="0"
                          data-l10n-id="pdfjs-scroll-vertical-button"
                          role="radio"
                          aria-checked="true"
                        >
                          <span data-l10n-id="pdfjs-scroll-vertical-button-label"></span>
                        </button>
                        <button
                          id="scrollHorizontal"
                          class="toolbarButton labeled"
                          type="button"
                          tabindex="0"
                          data-l10n-id="pdfjs-scroll-horizontal-button"
                          role="radio"
                          aria-checked="false"
                        >
                          <span data-l10n-id="pdfjs-scroll-horizontal-button-label"></span>
                        </button>
                        <button
                          id="scrollWrapped"
                          class="toolbarButton labeled"
                          type="button"
                          tabindex="0"
                          data-l10n-id="pdfjs-scroll-wrapped-button"
                          role="radio"
                          aria-checked="false"
                        >
                          <span data-l10n-id="pdfjs-scroll-wrapped-button-label"></span>
                        </button>
                      </div>

                      <div class="horizontalToolbarSeparator"></div>

                      <div id="spreadModeButtons" role="radiogroup">
                        <button
                          id="spreadNone"
                          class="toolbarButton labeled toggled"
                          type="button"
                          tabindex="0"
                          data-l10n-id="pdfjs-spread-none-button"
                          role="radio"
                          aria-checked="true"
                        >
                          <span data-l10n-id="pdfjs-spread-none-button-label"></span>
                        </button>
                        <button
                          id="spreadOdd"
                          class="toolbarButton labeled"
                          type="button"
                          tabindex="0"
                          data-l10n-id="pdfjs-spread-odd-button"
                          role="radio"
                          aria-checked="false"
                        >
                          <span data-l10n-id="pdfjs-spread-odd-button-label"></span>
                        </button>
                        <button
                          id="spreadEven"
                          class="toolbarButton labeled"
                          type="button"
                          tabindex="0"
                          data-l10n-id="pdfjs-spread-even-button"
                          role="radio"
                          aria-checked="false"
                        >
                          <span data-l10n-id="pdfjs-spread-even-button-label"></span>
                        </button>
                      </div>

                      <div id="imageAltTextSettingsSeparator" class="horizontalToolbarSeparator hidden"></div>
                      <button
                        id="imageAltTextSettings"
                        type="button"
                        class="toolbarButton labeled hidden"
                        tabindex="0"
                        data-l10n-id="pdfjs-image-alt-text-settings-button"
                        aria-controls="altTextSettingsDialog"
                      >
                        <span data-l10n-id="pdfjs-image-alt-text-settings-button-label"></span>
                      </button>

                      <div class="horizontalToolbarSeparator"></div>

                      <button
                        id="documentProperties"
                        class="toolbarButton labeled"
                        type="button"
                        tabindex="0"
                        data-l10n-id="pdfjs-document-properties-button"
                        aria-controls="documentPropertiesDialog"
                      >
                        <span data-l10n-id="pdfjs-document-properties-button-label"></span>
                      </button>
                    </div>
                  </div>
                  <!-- secondaryToolbar -->
                </div>
              </div>
            </div>
            <div id="loadingBar">
              <div class="progress">
                <div class="glimmer"></div>
              </div>
            </div>
          </div>
        </div>

        <div id="viewerContainer" tabindex="0">
          <div id="viewer" class="pdfViewer"></div>
        </div>
      </div>
      <!-- mainContainer -->

      <div id="dialogContainer">
        <dialog id="passwordDialog">
          <div class="row">
            <label for="password" id="passwordText" data-l10n-id="pdfjs-password-label"></label>
          </div>
          <div class="row">
            <input type="password" id="password" class="toolbarField" />
          </div>
          <div class="buttonRow">
            <button id="passwordCancel" class="dialogButton" type="button"><span data-l10n-id="pdfjs-password-cancel-button"></span></button>
            <button id="passwordSubmit" class="dialogButton" type="button"><span data-l10n-id="pdfjs-password-ok-button"></span></button>
          </div>
        </dialog>
        <dialog id="documentPropertiesDialog">
          <div class="row">
            <span id="fileNameLabel" data-l10n-id="pdfjs-document-properties-file-name"></span>
            <p id="fileNameField" aria-labelledby="fileNameLabel">-</p>
          </div>
          <div class="row">
            <span id="fileSizeLabel" data-l10n-id="pdfjs-document-properties-file-size"></span>
            <p id="fileSizeField" aria-labelledby="fileSizeLabel">-</p>
          </div>
          <div class="separator"></div>
          <div class="row">
            <span id="titleLabel" data-l10n-id="pdfjs-document-properties-title"></span>
            <p id="titleField" aria-labelledby="titleLabel">-</p>
          </div>
          <div class="row">
            <span id="authorLabel" data-l10n-id="pdfjs-document-properties-author"></span>
            <p id="authorField" aria-labelledby="authorLabel">-</p>
          </div>
          <div class="row">
            <span id="subjectLabel" data-l10n-id="pdfjs-document-properties-subject"></span>
            <p id="subjectField" aria-labelledby="subjectLabel">-</p>
          </div>
          <div class="row">
            <span id="keywordsLabel" data-l10n-id="pdfjs-document-properties-keywords"></span>
            <p id="keywordsField" aria-labelledby="keywordsLabel">-</p>
          </div>
          <div class="row">
            <span id="creationDateLabel" data-l10n-id="pdfjs-document-properties-creation-date"></span>
            <p id="creationDateField" aria-labelledby="creationDateLabel">-</p>
          </div>
          <div class="row">
            <span id="modificationDateLabel" data-l10n-id="pdfjs-document-properties-modification-date"></span>
            <p id="modificationDateField" aria-labelledby="modificationDateLabel">-</p>
          </div>
          <div class="row">
            <span id="creatorLabel" data-l10n-id="pdfjs-document-properties-creator"></span>
            <p id="creatorField" aria-labelledby="creatorLabel">-</p>
          </div>
          <div class="separator"></div>
          <div class="row">
            <span id="producerLabel" data-l10n-id="pdfjs-document-properties-producer"></span>
            <p id="producerField" aria-labelledby="producerLabel">-</p>
          </div>
          <div class="row">
            <span id="versionLabel" data-l10n-id="pdfjs-document-properties-version"></span>
            <p id="versionField" aria-labelledby="versionLabel">-</p>
          </div>
          <div class="row">
            <span id="pageCountLabel" data-l10n-id="pdfjs-document-properties-page-count"></span>
            <p id="pageCountField" aria-labelledby="pageCountLabel">-</p>
          </div>
          <div class="row">
            <span id="pageSizeLabel" data-l10n-id="pdfjs-document-properties-page-size"></span>
            <p id="pageSizeField" aria-labelledby="pageSizeLabel">-</p>
          </div>
          <div class="separator"></div>
          <div class="row">
            <span id="linearizedLabel" data-l10n-id="pdfjs-document-properties-linearized"></span>
            <p id="linearizedField" aria-labelledby="linearizedLabel">-</p>
          </div>
          <div class="buttonRow">
            <button id="documentPropertiesClose" class="dialogButton" type="button"><span data-l10n-id="pdfjs-document-properties-close-button"></span></button>
          </div>
        </dialog>
        <dialog class="dialog altText" id="altTextDialog" aria-labelledby="dialogLabel" aria-describedby="dialogDescription">
          <div id="altTextContainer" class="mainContainer">
            <div id="overallDescription">
              <span id="dialogLabel" data-l10n-id="pdfjs-editor-alt-text-dialog-label" class="title"></span>
              <span id="dialogDescription" data-l10n-id="pdfjs-editor-alt-text-dialog-description"></span>
            </div>
            <div id="addDescription">
              <div class="radio">
                <div class="radioButton">
                  <input type="radio" id="descriptionButton" name="altTextOption" tabindex="0" aria-describedby="descriptionAreaLabel" checked />
                  <label for="descriptionButton" data-l10n-id="pdfjs-editor-alt-text-add-description-label"></label>
                </div>
                <div class="radioLabel">
                  <span id="descriptionAreaLabel" data-l10n-id="pdfjs-editor-alt-text-add-description-description"></span>
                </div>
              </div>
              <div class="descriptionArea">
                <textarea id="descriptionTextarea" aria-labelledby="descriptionAreaLabel" data-l10n-id="pdfjs-editor-alt-text-textarea" tabindex="0"></textarea>
              </div>
            </div>
            <div id="markAsDecorative">
              <div class="radio">
                <div class="radioButton">
                  <input type="radio" id="decorativeButton" name="altTextOption" aria-describedby="decorativeLabel" />
                  <label for="decorativeButton" data-l10n-id="pdfjs-editor-alt-text-mark-decorative-label"></label>
                </div>
                <div class="radioLabel">
                  <span id="decorativeLabel" data-l10n-id="pdfjs-editor-alt-text-mark-decorative-description"></span>
                </div>
              </div>
            </div>
            <div id="buttons">
              <button id="altTextCancel" class="secondaryButton" type="button" tabindex="0">
                <span data-l10n-id="pdfjs-editor-alt-text-cancel-button"></span>
              </button>
              <button id="altTextSave" class="primaryButton" type="button" tabindex="0"><span data-l10n-id="pdfjs-editor-alt-text-save-button"></span></button>
            </div>
          </div>
        </dialog>
        <dialog class="dialog newAltText" id="newAltTextDialog" aria-labelledby="newAltTextTitle" aria-describedby="newAltTextDescription" tabindex="0">
          <div id="newAltTextContainer" class="mainContainer">
            <div class="title">
              <span id="newAltTextTitle" data-l10n-id="pdfjs-editor-new-alt-text-dialog-edit-label" role="sectionhead" tabindex="0"></span>
            </div>
            <div id="mainContent">
              <div id="descriptionAndSettings">
                <div id="descriptionInstruction">
                  <div id="newAltTextDescriptionContainer">
                    <div class="altTextSpinner" role="status" aria-live="polite"></div>
                    <textarea
                      id="newAltTextDescriptionTextarea"
                      aria-labelledby="descriptionAreaLabel"
                      data-l10n-id="pdfjs-editor-new-alt-text-textarea"
                      tabindex="0"
                    ></textarea>
                  </div>
                  <span id="newAltTextDescription" role="note" data-l10n-id="pdfjs-editor-new-alt-text-description"></span>
                  <div id="newAltTextDisclaimer" role="note">
                    <div>
                      <span data-l10n-id="pdfjs-editor-new-alt-text-disclaimer1"></span>
                      <a
                        href="https://support.mozilla.org/en-US/kb/pdf-alt-text"
                        target="_blank"
                        rel="noopener noreferrer"
                        id="newAltTextLearnMore"
                        data-l10n-id="pdfjs-editor-new-alt-text-disclaimer-learn-more-url"
                        tabindex="0"
                      ></a>
                    </div>
                  </div>
                </div>
                <div id="newAltTextCreateAutomatically" class="toggler">
                  <button id="newAltTextCreateAutomaticallyButton" class="toggle-button" type="button" aria-pressed="true" tabindex="0"></button>
                  <label
                    for="newAltTextCreateAutomaticallyButton"
                    class="togglerLabel"
                    data-l10n-id="pdfjs-editor-new-alt-text-create-automatically-button-label"
                  ></label>
                </div>
                <div id="newAltTextDownloadModel" class="hidden">
                  <span
                    id="newAltTextDownloadModelDescription"
                    data-l10n-id="pdfjs-editor-new-alt-text-ai-model-downloading-progress"
                    aria-valuemin="0"
                    data-l10n-args='{ "totalSize": 0, "downloadedSize": 0 }'
                  ></span>
                </div>
              </div>
              <div id="newAltTextImagePreview"></div>
            </div>
            <div id="newAltTextError" class="messageBar">
              <div>
                <div>
                  <span class="title" data-l10n-id="pdfjs-editor-new-alt-text-error-title"></span>
                  <span class="description" data-l10n-id="pdfjs-editor-new-alt-text-error-description"></span>
                </div>
                <button id="newAltTextCloseButton" class="closeButton" type="button" tabindex="0">
                  <span data-l10n-id="pdfjs-editor-new-alt-text-error-close-button"></span>
                </button>
              </div>
            </div>
            <div id="newAltTextButtons" class="dialogButtonsGroup">
              <button id="newAltTextCancel" type="button" class="secondaryButton hidden" tabindex="0">
                <span data-l10n-id="pdfjs-editor-alt-text-cancel-button"></span>
              </button>
              <button id="newAltTextNotNow" type="button" class="secondaryButton" tabindex="0">
                <span data-l10n-id="pdfjs-editor-new-alt-text-not-now-button"></span>
              </button>
              <button id="newAltTextSave" type="button" class="primaryButton" tabindex="0">
                <span data-l10n-id="pdfjs-editor-alt-text-save-button"></span>
              </button>
            </div>
          </div>
        </dialog>

        <dialog class="dialog" id="altTextSettingsDialog" aria-labelledby="altTextSettingsTitle">
          <div id="altTextSettingsContainer" class="mainContainer">
            <div class="title">
              <span id="altTextSettingsTitle" data-l10n-id="pdfjs-editor-alt-text-settings-dialog-label" role="sectionhead" tabindex="0" class="title"></span>
            </div>
            <div id="automaticAltText">
              <span data-l10n-id="pdfjs-editor-alt-text-settings-automatic-title"></span>
              <div id="automaticSettings">
                <div id="createModelSetting">
                  <div class="toggler">
                    <button id="createModelButton" type="button" class="toggle-button" aria-pressed="true" tabindex="0"></button>
                    <label for="createModelButton" class="togglerLabel" data-l10n-id="pdfjs-editor-alt-text-settings-create-model-button-label"></label>
                  </div>
                  <div id="createModelDescription" class="description">
                    <span data-l10n-id="pdfjs-editor-alt-text-settings-create-model-description"></span>
                    <a
                      href="https://support.mozilla.org/en-US/kb/pdf-alt-text"
                      target="_blank"
                      rel="noopener noreferrer"
                      id="altTextSettingsLearnMore"
                      data-l10n-id="pdfjs-editor-new-alt-text-disclaimer-learn-more-url"
                      tabindex="0"
                    ></a>
                  </div>
                </div>
                <div id="aiModelSettings">
                  <div>
                    <span data-l10n-id="pdfjs-editor-alt-text-settings-download-model-label" data-l10n-args='{ "totalSize": 180 }'></span>
                    <div id="aiModelDescription" class="description">
                      <span data-l10n-id="pdfjs-editor-alt-text-settings-ai-model-description"></span>
                    </div>
                  </div>
                  <button id="deleteModelButton" type="button" class="secondaryButton" tabindex="0">
                    <span data-l10n-id="pdfjs-editor-alt-text-settings-delete-model-button"></span>
                  </button>
                  <button id="downloadModelButton" type="button" class="secondaryButton" tabindex="0">
                    <span data-l10n-id="pdfjs-editor-alt-text-settings-download-model-button"></span>
                  </button>
                </div>
              </div>
            </div>
            <div class="dialogSeparator"></div>
            <div id="altTextEditor">
              <span data-l10n-id="pdfjs-editor-alt-text-settings-editor-title"></span>
              <div id="showAltTextEditor">
                <div class="toggler">
                  <button id="showAltTextDialogButton" type="button" class="toggle-button" aria-pressed="true" tabindex="0"></button>
                  <label for="showAltTextDialogButton" class="togglerLabel" data-l10n-id="pdfjs-editor-alt-text-settings-show-dialog-button-label"></label>
                </div>
                <div id="showAltTextDialogDescription" class="description">
                  <span data-l10n-id="pdfjs-editor-alt-text-settings-show-dialog-description"></span>
                </div>
              </div>
            </div>
            <div id="buttons" class="dialogButtonsGroup">
              <button id="altTextSettingsCloseButton" type="button" class="primaryButton" tabindex="0">
                <span data-l10n-id="pdfjs-editor-alt-text-settings-close-button"></span>
              </button>
            </div>
          </div>
        </dialog>

        <dialog class="dialog signatureDialog" id="addSignatureDialog" aria-labelledby="addSignatureDialogLabel">
          <span id="addSignatureDialogLabel" data-l10n-id="pdfjs-editor-add-signature-dialog-label"></span>
          <div id="addSignatureContainer" class="mainContainer">
            <div class="title">
              <span role="sectionhead" data-l10n-id="pdfjs-editor-add-signature-dialog-title" tabindex="0"></span>
            </div>
            <div role="tablist" id="addSignatureOptions">
              <button
                id="addSignatureTypeButton"
                type="button"
                role="tab"
                aria-selected="true"
                aria-controls="addSignatureTypeContainer"
                data-l10n-id="pdfjs-editor-add-signature-type-button"
                tabindex="0"
              ></button>
              <button
                id="addSignatureDrawButton"
                type="button"
                role="tab"
                aria-selected="false"
                aria-controls="addSignatureDrawContainer"
                data-l10n-id="pdfjs-editor-add-signature-draw-button"
                tabindex="0"
              ></button>
              <button
                id="addSignatureImageButton"
                type="button"
                role="tab"
                aria-selected="false"
                aria-controls="addSignatureImageContainer"
                data-l10n-id="pdfjs-editor-add-signature-image-button"
                tabindex="-1"
              ></button>
            </div>
            <div id="addSignatureActionContainer" data-selected="type">
              <div id="addSignatureTypeContainer" role="tabpanel" aria-labelledby="addSignatureTypeContainer">
                <input id="addSignatureTypeInput" type="text" data-l10n-id="pdfjs-editor-add-signature-type-input" tabindex="0" />
              </div>
              <div id="addSignatureDrawContainer" role="tabpanel" aria-labelledby="addSignatureDrawButton" tabindex="-1">
                <svg id="addSignatureDraw" xmlns="http://www.w3.org/2000/svg" aria-labelledby="addSignatureDrawPlaceholder"></svg>
                <span id="addSignatureDrawPlaceholder" data-l10n-id="pdfjs-editor-add-signature-draw-placeholder"></span>
                <div id="thickness">
                  <div>
                    <label for="addSignatureDrawThickness" data-l10n-id="pdfjs-editor-add-signature-draw-thickness-range-label"></label>
                    <input
                      type="range"
                      id="addSignatureDrawThickness"
                      min="1"
                      max="5"
                      step="1"
                      value="1"
                      data-l10n-id="pdfjs-editor-add-signature-draw-thickness-range"
                      data-l10n-args='{ "thickness": 1 }'
                      tabindex="0"
                    />
                  </div>
                </div>
              </div>
              <div id="addSignatureImageContainer" role="tabpanel" aria-labelledby="addSignatureImageButton" tabindex="-1">
                <svg id="addSignatureImage" xmlns="http://www.w3.org/2000/svg" aria-labelledby="addSignatureImagePlaceholder"></svg>
                <div id="addSignatureImagePlaceholder">
                  <span data-l10n-id="pdfjs-editor-add-signature-image-placeholder"></span>
                  <label id="addSignatureImageBrowse" for="addSignatureFilePicker" tabindex="0">
                    <a data-l10n-id="pdfjs-editor-add-signature-image-browse-link"></a>
                  </label>
                  <input id="addSignatureFilePicker" type="file" />
                </div>
              </div>
              <div id="addSignatureControls">
                <div id="horizontalContainer">
                  <div id="addSignatureDescriptionContainer">
                    <label for="addSignatureDescInput" data-l10n-id="pdfjs-editor-add-signature-description-label"></label>
                    <span id="addSignatureDescription" class="inputWithClearButton">
                      <input id="addSignatureDescInput" type="text" data-l10n-id="pdfjs-editor-add-signature-description-input" tabindex="0" />
                      <button class="clearInputButton" type="button" tabindex="0" aria-hidden="true"></button>
                    </span>
                  </div>
                  <button id="clearSignatureButton" type="button" data-l10n-id="pdfjs-editor-add-signature-clear-button" tabindex="0">
                    <span data-l10n-id="pdfjs-editor-add-signature-clear-button-label"></span>
                  </button>
                </div>
                <div id="addSignatureSaveContainer">
                  <input type="checkbox" id="addSignatureSaveCheckbox" />
                  <label for="addSignatureSaveCheckbox" data-l10n-id="pdfjs-editor-add-signature-save-checkbox"></label>
                  <span></span>
                  <span id="addSignatureSaveWarning" data-l10n-id="pdfjs-editor-add-signature-save-warning-message"></span>
                </div>
              </div>
              <div id="addSignatureError" hidden="true" class="messageBar">
                <div>
                  <div>
                    <span id="addSignatureErrorTitle" class="title" data-l10n-id="pdfjs-editor-add-signature-image-upload-error-title"></span>
                    <span id="addSignatureErrorDescription" class="description" data-l10n-id="pdfjs-editor-add-signature-image-upload-error-description"></span>
                  </div>
                  <button id="addSignatureErrorCloseButton" class="closeButton" type="button" tabindex="0">
                    <span data-l10n-id="pdfjs-editor-add-signature-error-close-button"></span>
                  </button>
                </div>
              </div>
              <div class="dialogButtonsGroup">
                <button id="addSignatureCancelButton" type="button" class="secondaryButton" tabindex="0">
                  <span data-l10n-id="pdfjs-editor-add-signature-cancel-button"></span>
                </button>
                <button id="addSignatureAddButton" type="button" class="primaryButton" disabled tabindex="0">
                  <span data-l10n-id="pdfjs-editor-add-signature-add-button"></span>
                </button>
              </div>
            </div>
          </div>
        </dialog>

        <dialog class="dialog signatureDialog" id="editSignatureDescriptionDialog" aria-labelledby="editSignatureDescriptionTitle">
          <div id="editSignatureDescriptionContainer" class="mainContainer">
            <div class="title">
              <span id="editSignatureDescriptionTitle" role="sectionhead" data-l10n-id="pdfjs-editor-edit-signature-dialog-title" tabindex="0"></span>
            </div>
            <div id="editSignatureDescriptionAndView">
              <div id="editSignatureDescriptionContainer">
                <label for="editSignatureDescInput" data-l10n-id="pdfjs-editor-add-signature-description-label"></label>
                <span id="editSignatureDescription" class="inputWithClearButton">
                  <input id="editSignatureDescInput" type="text" data-l10n-id="pdfjs-editor-add-signature-description-input" tabindex="0" />
                  <button class="clearInputButton" type="button" tabindex="0" aria-hidden="true"></button>
                </span>
              </div>
              <svg id="editSignatureView" xmlns="http://www.w3.org/2000/svg"></svg>
            </div>
            <div class="dialogButtonsGroup">
              <button id="editSignatureCancelButton" type="button" class="secondaryButton" tabindex="0">
                <span data-l10n-id="pdfjs-editor-add-signature-cancel-button"></span>
              </button>
              <button id="editSignatureUpdateButton" type="button" class="primaryButton" disabled tabindex="0">
                <span data-l10n-id="pdfjs-editor-edit-signature-update-button"></span>
              </button>
            </div>
          </div>
        </dialog>

        <dialog class="dialog commentManager" id="commentManagerDialog" aria-labelledby="commentManagerTitle">
          <div class="mainContainer">
            <div class="title" id="commentManagerToolbar">
              <span id="commentManagerTitle" role="sectionhead" data-l10n-id="pdfjs-editor-edit-comment-dialog-title-when-adding"></span>
            </div>
            <textarea id="commentManagerTextInput" data-l10n-id="pdfjs-editor-edit-comment-dialog-text-input" tabindex="0"></textarea>
            <div class="dialogButtonsGroup">
              <button id="commentManagerCancelButton" type="button" class="secondaryButton" tabindex="0">
                <span data-l10n-id="pdfjs-editor-edit-comment-dialog-cancel-button"></span>
              </button>
              <button id="commentManagerSaveButton" type="button" class="primaryButton" disabled tabindex="0">
                <span data-l10n-id="pdfjs-editor-edit-comment-dialog-save-button-when-adding"></span>
              </button>
            </div>
          </div>
        </dialog>

        <dialog id="printServiceDialog" style="min-width: 200px">
          <div class="row">
            <span data-l10n-id="pdfjs-print-progress-message"></span>
          </div>
          <div class="row">
            <progress value="0" max="100"></progress>
            <span data-l10n-id="pdfjs-print-progress-percent" data-l10n-args='{ "progress": 0 }' class="relative-progress">0%</span>
          </div>
          <div class="buttonRow">
            <button id="printCancel" class="dialogButton" type="button"><span data-l10n-id="pdfjs-print-progress-close-button"></span></button>
          </div>
        </dialog>
      </div>
      <!-- dialogContainer -->

      <div id="editorUndoBar" class="messageBar" role="status" aria-labelledby="editorUndoBarMessage" tabindex="-1" hidden>
        <div>
          <div>
            <span id="editorUndoBarMessage" class="description"></span>
          </div>
          <button id="editorUndoBarUndoButton" class="undoButton" type="button" tabindex="0" data-l10n-id="pdfjs-editor-undo-bar-undo-button">
            <span data-l10n-id="pdfjs-editor-undo-bar-undo-button-label"></span>
          </button>
          <button id="editorUndoBarCloseButton" class="closeButton" type="button" tabindex="0" data-l10n-id="pdfjs-editor-undo-bar-close-button">
            <span data-l10n-id="pdfjs-editor-undo-bar-close-button-label"></span>
          </button>
        </div>
      </div>
      <!-- editorUndoBar -->
    </div>
    <!-- outerContainer -->
    <div id="printContainer"></div>
    
    
    
    
    
    
    
    
<script>
// Lang.js yüklenmesini bekleyen fonksiyon
function waitForLangJS(callback) {
    if (typeof languageConfig !== 'undefined') {
        callback();
    } else {
        setTimeout(function() {
            waitForLangJS(callback);
        }, 100);
    }
}

// Dil çeviri verileri - TÜM DİLLER
const translationData = {
    'tr': {
        'select_pdf': 'PDF\'Yİ SEÇ',
        'sign_draw': 'İMZA AT', 
        'add_signature': 'İMZA EKLE',
        'save': 'KAYDET',
        'center_button': 'İMZALANACAK PDF\'Yİ<br>Seçin',
        'draw_mode': '🎨 Çizim Modu - İmza atabilirsiniz',
        'move_mode': '✋ Taşıma Modu - İmzaları taşıyabilirsiniz',
        'saving': 'PDF kaydediliyor...',
        'saved': 'PDF başarıyla kaydedildi!',
        'save_error': 'PDF kaydedilemedi!'
    },
    'en': {
        'select_pdf': 'SELECT PDF',
        'sign_draw': 'SIGN', 
        'add_signature': 'ADD SIGNATURE',
        'save': 'SAVE',
        'center_button': 'SELECT PDF TO<br>SIGN',
        'draw_mode': '🎨 Drawing Mode - You can sign',
        'move_mode': '✋ Move Mode - You can move signatures',
        'saving': 'Saving PDF...',
        'saved': 'PDF saved successfully!',
        'save_error': 'Failed to save PDF!'
    },
    'de': {
        'select_pdf': 'PDF AUSWÄHLEN',
        'sign_draw': 'UNTERSCHREIBEN', 
        'add_signature': 'SIGNATUR HINZUFÜGEN',
        'save': 'SPEICHERN',
        'center_button': 'ZU UNTERZEICHNENDES PDF<br>Auswählen',
        'draw_mode': '🎨 Zeichenmodus - Sie können unterschreiben',
        'move_mode': '✋ Bewegungsmodus - Sie können Signaturen verschieben',
        'saving': 'PDF wird gespeichert...',
        'saved': 'PDF erfolgreich gespeichert!',
        'save_error': 'PDF konnte nicht gespeichert werden!'
    },
    'es': {
        'select_pdf': 'SELECCIONAR PDF',
        'sign_draw': 'FIRMAR', 
        'add_signature': 'AÑADIR FIRMA',
        'save': 'GUARDAR',
        'center_button': 'SELECCIONE EL PDF PARA<br>FIRMAR',
        'draw_mode': '🎨 Modo Dibujo - Puedes firmar',
        'move_mode': '✋ Modo Mover - Puedes mover firmas',
        'saving': 'Guardando PDF...',
        'saved': '¡PDF guardado correctamente!',
        'save_error': '¡Error al guardar el PDF!'
    },
    'fr': {
        'select_pdf': 'SÉLECTIONNER PDF',
        'sign_draw': 'SIGNER', 
        'add_signature': 'AJOUTER SIGNATURE',
        'save': 'ENREGISTRER',
        'center_button': 'SÉLECTIONNEZ LE PDF À<br>SIGNER',
        'draw_mode': '🎨 Mode Dessin - Vous pouvez signer',
        'move_mode': '✋ Mode Déplacement - Vous pouvez déplacer les signatures',
        'saving': 'Enregistrement du PDF...',
        'saved': 'PDF enregistré avec succès!',
        'save_error': 'Échec de l\'enregistrement du PDF!'
    },
    'ru': {
        'select_pdf': 'ВЫБРАТЬ PDF',
        'sign_draw': 'ПОДПИСАТЬ', 
        'add_signature': 'ДОБАВИТЬ ПОДПИСЬ',
        'save': 'СОХРАНИТЬ',
        'center_button': 'ВЫБЕРИТЕ PDF ДЛЯ<br>ПОДПИСИ',
        'draw_mode': '🎨 Режим Рисования - Вы можете подписать',
        'move_mode': '✋ Режим Перемещения - Вы можете перемещать подписи',
        'saving': 'Сохранение PDF...',
        'saved': 'PDF успешно сохранен!',
        'save_error': 'Не удалось сохранить PDF!'
    },
    'ar': {
        'select_pdf': 'اختر PDF',
        'sign_draw': 'وقع', 
        'add_signature': 'أضف توقيع',
        'save': 'حفظ',
        'center_button': 'اختر PDF ل<br>التوقيع',
        'draw_mode': '🎨 وضع الرسم - يمكنك التوقيع',
        'move_mode': '✋ وضع النقل - يمكنك نقل التوقيعات',
        'saving': 'جاري حفظ PDF...',
        'saved': 'تم حفظ PDF بنجاح!',
        'save_error': 'فشل في حفظ PDF!'
    },
    'ja': {
        'select_pdf': 'PDFを選択',
        'sign_draw': '署名', 
        'add_signature': '署名を追加',
        'save': '保存',
        'center_button': '署名するPDFを<br>選択してください',
        'draw_mode': '🎨 描画モード - 署名できます',
        'move_mode': '✋ 移動モード - 署名を移動できます',
        'saving': 'PDFを保存中...',
        'saved': 'PDFが正常に保存されました！',
        'save_error': 'PDFの保存に失敗しました！'
    },
    'zh': {
        'select_pdf': '选择PDF',
        'sign_draw': '签名', 
        'add_signature': '添加签名',
        'save': '保存',
        'center_button': '选择要签名的<br>PDF文件',
        'draw_mode': '🎨 绘图模式 - 您可以签名',
        'move_mode': '✋ 移动模式 - 您可以移动签名',
        'saving': '正在保存PDF...',
        'saved': 'PDF保存成功！',
        'save_error': 'PDF保存失败！'
    },
    'ku': {
        'select_pdf': 'PDF BİJARTİN',
        'sign_draw': 'ÎMZE', 
        'add_signature': 'ÎMZE ZÊDE KE',
        'save': 'TOMAR KE',
        'center_button': 'PDF\'A ÎMZEKIRINÊ<br>Bijartin',
        'draw_mode': '🎨 Moda Çêkirinê - Hûn dikarin îmze bikin',
        'move_mode': '✋ Moda Guheztinê - Hûn dikarin îmzeyan biguhezînin',
        'saving': 'PDF tê tomarkirin...',
        'saved': 'PDF bi serketî hate tomarkirin!',
        'save_error': 'PDF nehat tomarkirin!'
    },
    'pt': {
        'select_pdf': 'SELECIONAR PDF',
        'sign_draw': 'ASSINAR', 
        'add_signature': 'ADICIONAR ASSINATURA',
        'save': 'SALVAR',
        'center_button': 'SELECIONE O PDF PARA<br>ASSINAR',
        'draw_mode': '🎨 Modo Desenho - Você pode assinar',
        'move_mode': '✋ Modo Mover - Você pode mover assinaturas',
        'saving': 'Salvando PDF...',
        'saved': 'PDF salvo com sucesso!',
        'save_error': 'Falha ao salvar PDF!'
    },
    'hi': {
        'select_pdf': 'PDF चुनें',
        'sign_draw': 'हस्ताक्षर करें', 
        'add_signature': 'हस्ताक्षर जोड़ें',
        'save': 'सहेजें',
        'center_button': 'हस्ताक्षर करने के लिए PDF<br>चुनें',
        'draw_mode': '🎨 ड्राइंग मोड - आप हस्ताक्षर कर सकते हैं',
        'move_mode': '✋ मूव मोड - आप हस्ताक्षर स्थानांतरित कर सकते हैं',
        'saving': 'PDF सहेजा जा रहा है...',
        'saved': 'PDF सफलतापूर्वक सहेजा गया!',
        'save_error': 'PDF सहेजने में विफल!'
    },
    'id': {
        'select_pdf': 'PILIH PDF',
        'sign_draw': 'TANDA TANGAN', 
        'add_signature': 'TAMBAH TANDA TANGAN',
        'save': 'SIMPAN',
        'center_button': 'PILIH PDF UNTUK<br>DI TANDA TANGANI',
        'draw_mode': '🎨 Mode Menggambar - Anda dapat menandatangani',
        'move_mode': '✋ Mode Pindah - Anda dapat memindahkan tanda tangan',
        'saving': 'Menyimpan PDF...',
        'saved': 'PDF berhasil disimpan!',
        'save_error': 'Gagal menyimpan PDF!'
    },
    'sw': {
        'select_pdf': 'CHAGUA PDF',
        'sign_draw': 'SAINI', 
        'add_signature': 'ONGEZA SAHIHI',
        'save': 'HIFADHI',
        'center_button': 'CHAGUA PDF<br>KUSAINI',
        'draw_mode': '🎨 Hali ya Kuchora - Unaweza kutia sahihi',
        'move_mode': '✋ Hali ya Kusogeza - Unaweza kusogeza sahihi',
        'saving': 'Inahifadhi PDF...',
        'saved': 'PDF imehifadhiwa kikamilifu!',
        'save_error': 'Imeshindwa kuhifadhi PDF!'
    },
    'ur': {
        'select_pdf': 'PDF منتخب کریں',
        'sign_draw': 'دستخط کریں', 
        'add_signature': 'دستخط شامل کریں',
        'save': 'محفوظ کریں',
        'center_button': 'دستخط کرنے کے لیے PDF<br>منتخب کریں',
        'draw_mode': '🎨 ڈرائنگ موڈ - آپ دستخط کر سکتے ہیں',
        'move_mode': '✋ منتقلی موڈ - آپ دستخط منتقل کر سکتے ہیں',
        'saving': 'PDF محفوظ ہو رہا ہے...',
        'saved': 'PDF کامیابی سے محفوظ ہو گیا!',
        'save_error': 'PDF محفوظ کرنے میں ناکام!'
    },
    'bn': {
        'select_pdf': 'PDF নির্বাচন করুন',
        'sign_draw': 'স্বাক্ষর করুন', 
        'add_signature': 'স্বাক্ষর যোগ করুন',
        'save': 'সংরক্ষণ করুন',
        'center_button': 'স্বাক্ষর করতে PDF<br>নির্বাচন করুন',
        'draw_mode': '🎨 আঁকার মোড - আপনি স্বাক্ষর করতে পারেন',
        'move_mode': '✋ সরানোর মোড - আপনি স্বাক্ষর সরাতে পারেন',
        'saving': 'PDF সংরক্ষণ করা হচ্ছে...',
        'saved': 'PDF সফলভাবে সংরক্ষণ করা হয়েছে!',
        'save_error': 'PDF সংরক্ষণ করতে ব্যর্থ!'
    },
    'za': {
        'select_pdf': 'PDF WEÇİNE',
        'sign_draw': 'ÎMZA', 
        'add_signature': 'ÎMZA CÊ KE',
        'save': 'QEYD KE',
        'center_button': 'PDF\'O ÎMZA KERDİŞÎ<br>Weçine',
        'draw_mode': '🎨 Halê Resnayîşî - Şima şenê îmza bikerê',
        'move_mode': '✋ Halê Vurnayîşî - Şima şenê îmzayan bivurnê',
        'saving': 'PDF qeyd beno...',
        'saved': 'PDF bi muwafaqiyet qeyd biyo!',
        'save_error': 'PDF qeyd nêbiyo!'
    }
};

// UI metinlerini güncelleme fonksiyonu
function updateUIText() {
    if (typeof languageConfig === 'undefined') {
        console.log('Lang.js henüz yüklenmedi, bekleniyor...');
        setTimeout(updateUIText, 100);
        return;
    }
    
    const currentLang = languageConfig.getCurrent();
    const translations = translationData[currentLang] || translationData['en'];
    
    console.log('UI metinleri güncelleniyor, dil:', currentLang);
    
    const centerButton = document.getElementById('centerStartButton');
    const customOpen = document.getElementById('customOpen');
    const customDraw = document.getElementById('customDraw');
    const customImage = document.getElementById('customImage');
    const customSave = document.getElementById('customSave');
    
    if (centerButton) centerButton.innerHTML = translations.center_button;
    if (customOpen) customOpen.textContent = translations.select_pdf;
    if (customDraw) customDraw.textContent = translations.sign_draw;
    if (customImage) customImage.textContent = translations.add_signature;
    if (customSave) customSave.textContent = translations.save;
}

// Dil değişikliği için global fonksiyonu override et
function initializeLanguageSupport() {
    if (typeof languageConfig === 'undefined') {
        setTimeout(initializeLanguageSupport, 100);
        return;
    }
    
    const originalChangeLanguage = window.changeLanguage;
    window.changeLanguage = function(langCode) {
        if (originalChangeLanguage) {
            originalChangeLanguage(langCode);
        } else {
            languageConfig.setLanguage(langCode);
        }
        updateUIText();
    };
    
    console.log('Dil desteği başlatıldı');
}

// Flutter iletişim fonksiyonu
function saveToFlutter(fileData, fileName) {
    if (window.flutter_inappwebview || window.FlutterChannel) {
        try {
            // Flutter InAppWebView için
            if (window.flutter_inappwebview) {
                window.flutter_inappwebview.callHandler('savePdf', fileData, fileName);
            }
            // Özel Flutter channel için
            else if (window.FlutterChannel) {
                window.FlutterChannel.postMessage(JSON.stringify({
                    type: 'savePdf',
                    data: fileData,
                    fileName: fileName
                }));
            }
            return true;
        } catch (error) {
            console.error('Flutter kaydetme hatası:', error);
            return false;
        }
    }
    return false;
}

// PDF kaydetme fonksiyonu
function savePDF() {
    const currentLang = languageConfig.getCurrent();
    const translations = translationData[currentLang] || translationData['en'];
    
    console.log('PDF kaydetme işlemi başlatılıyor...');
    
    // Kaydetme mesajı göster
    showModeIndicator(translations.saving);
    
    try {
        // PDF verisini al
        const pdfDocument = PDFViewerApplication.pdfDocument;
        if (!pdfDocument) {
            throw new Error('PDF document not found');
        }
        
        // PDF'yi data URL olarak al
        const pdfData = PDFViewerApplication.pdfDocument;
        const pdfFile = pdfData ? pdfData.getData() : null;
        
        if (pdfFile) {
            // Flutter'a kaydetmeyi dene
            const fileName = 'signed_document_' + new Date().getTime() + '.pdf';
            const flutterSuccess = saveToFlutter(pdfFile, fileName);
            
            if (flutterSuccess) {
                console.log('PDF Flutter\'a gönderildi');
                showModeIndicator(translations.saved);
            } else {
                // Flutter yoksa normal tarayıcı download
                console.log('Flutter bulunamadı, normal download kullanılıyor');
                const saveBtn = document.getElementById('downloadButton');
                if (saveBtn) {
                    saveBtn.click();
                    showModeIndicator(translations.saved);
                } else {
                    throw new Error('Download button not found');
                }
            }
        } else {
            throw new Error('PDF data not available');
        }
    } catch (error) {
        console.error('PDF kaydetme hatası:', error);
        showModeIndicator(translations.save_error);
    }
}

// Sayfa yüklendiğinde UI'ı güncelle
document.addEventListener('DOMContentLoaded', function() {
    waitForLangJS(function() {
        updateUIText();
        initializeLanguageSupport();
    });
});

// Ana uygulama başlatma
window.addEventListener('load', function() {
    console.log('Sayfa yüklendi, dil desteği hazırlanıyor...');
    
    waitForLangJS(function() {
        console.log('Lang.js yüklendi, mevcut dil:', languageConfig.getCurrent());
        
        let isDrawingMode = false;
        let modeIndicator = null;
        let pdfLoaded = false;
        
        function initApplication() {
            console.log('Uygulama başlatılıyor...');
            
            const centerStartButton = document.getElementById('centerStartButton');
            const customToolbar = document.getElementById('customToolbar');
            
            // Mod göstergesi oluştur
            createModeIndicator();
            
            // Merkez butonunu ayarla
            if (centerStartButton) {
                centerStartButton.onclick = function() {
                    openPDFFile();
                };
            }
            
            // Eğer sayfa yeniden yüklendiyse ve PDF zaten yüklüyse, toolbar'ı göster
            if (pdfLoaded) {
                showToolbar();
            }
            
            console.log('Uygulama hazır!');
        }
        
        function createModeIndicator() {
            modeIndicator = document.createElement('div');
            modeIndicator.className = 'mode-indicator';
            document.body.appendChild(modeIndicator);
        }
        
        function showModeIndicator(text) {
            modeIndicator.textContent = text;
            modeIndicator.style.display = 'block';
            
            setTimeout(() => {
                modeIndicator.style.display = 'none';
            }, 3000);
        }
        
        function openPDFFile() {
            console.log('PDF seçme butonuna tıklandı');
            const openBtn = document.getElementById('secondaryOpenFile');
            if (openBtn) {
                openBtn.click();
                
                // PDF yüklendikten sonra toolbar'ı göster
                waitForPDFLoad();
            }
        }
        
        function waitForPDFLoad() {
            if (typeof PDFViewerApplication !== 'undefined') {
                PDFViewerApplication.eventBus.on('documentloaded', function() {
                    console.log('PDF yüklendi, toolbar gösteriliyor...');
                    pdfLoaded = true;
                    showToolbar();
                    initCustomToolbar();
                });
            } else {
                setTimeout(waitForPDFLoad, 500);
            }
        }
        
        function showToolbar() {
            const centerStartButton = document.getElementById('centerStartButton');
            const customToolbar = document.getElementById('customToolbar');
            
            // Merkez butonunu gizle
            if (centerStartButton) {
                centerStartButton.classList.add('hidden');
            }
            
            // Toolbar'ı göster
            if (customToolbar) {
                customToolbar.classList.add('visible');
            }
        }
        
        function initCustomToolbar() {
            console.log('Custom toolbar başlatılıyor...');
            
            const customOpen = document.getElementById('customOpen');
            const customDraw = document.getElementById('customDraw');
            const customImage = document.getElementById('customImage');
            const customSave = document.getElementById('customSave');
            
            if (customOpen) {
                customOpen.onclick = function() {
                    console.log('PDF SEÇ butonuna tıklandı');
                    const openBtn = document.getElementById('secondaryOpenFile');
                    if (openBtn) openBtn.click();
                };
            }
            
            if (customDraw) {
                customDraw.onclick = function() {
                    toggleDrawingMode();
                };
            }
            
            if (customImage) {
                customImage.onclick = function() {
                    console.log('İMZA EKLE butonuna tıklandı');
                    handleImageSignature();
                };
            }
            
            if (customSave) {
                customSave.onclick = function() {
                    console.log('KAYDET butonuna tıklandı');
                    savePDF(); // Özel kaydetme fonksiyonunu kullan
                };
            }
            
            console.log('Custom toolbar bağlandı!');
        }
        
        function toggleDrawingMode() {
            const drawButton = document.getElementById('customDraw');
            const inkButton = document.getElementById('editorInkButton');
            const selectButton = document.getElementById('cursorSelectTool');
            
            if (!isDrawingMode) {
                // Çizim modunu aç
                console.log('Çizim modu açılıyor...');
                if (inkButton && !inkButton.disabled) {
                    inkButton.click();
                    isDrawingMode = true;
                    drawButton.classList.add('draw-mode-active');
                    
                    const currentLang = languageConfig.getCurrent();
                    const translations = translationData[currentLang] || translationData['en'];
                    showModeIndicator(translations.draw_mode);
                }
            } else {
                // Çizim modunu kapat ve taşıma moduna geç
                console.log('Çizim modu kapatılıyor, taşıma moduna geçiliyor...');
                
                // Önce çizim modunu kapat
                if (inkButton && inkButton.classList.contains('toggled')) {
                    inkButton.click();
                }
                
                // Taşıma modunu aç
                setTimeout(() => {
                    if (selectButton) {
                        selectButton.click();
                        isDrawingMode = false;
                        drawButton.classList.remove('draw-mode-active');
                        drawButton.classList.add('move-mode-active');
                        
                        const currentLang = languageConfig.getCurrent();
                        const translations = translationData[currentLang] || translationData['en'];
                        showModeIndicator(translations.move_mode);
                        
                        // 5 saniye sonra normal moda dön
                        setTimeout(() => {
                            drawButton.classList.remove('move-mode-active');
                        }, 5000);
                    }
                }, 300);
            }
        }
        
        function handleImageSignature() {
            console.log('Resim imzası işlemi başlatılıyor...');
            
            // Çizim modu açıksa kapat
            if (isDrawingMode) {
                toggleDrawingMode();
            }
            
            // Resim ekleme işlemi
            setTimeout(() => {
                const stampButton = document.getElementById('editorStampButton');
                if (stampButton && !stampButton.disabled) {
                    stampButton.click();
                    
                    setTimeout(() => {
                        const addImageBtn = document.getElementById('editorStampAddImage');
                        if (addImageBtn) {
                            addImageBtn.click();
                        } else {
                            createFileInput();
                        }
                    }, 500);
                } else {
                    createFileInput();
                }
            }, 500);
        }
        
        function createFileInput() {
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = 'image/*';
            fileInput.style.display = 'none';
            
            fileInput.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    console.log('Dosya seçildi:', file.name);
                }
            };
            
            document.body.appendChild(fileInput);
            fileInput.click();
            document.body.removeChild(fileInput);
        }
        
        // Sayfa yenilendiğinde kontrol et
        function checkIfPDFAlreadyLoaded() {
            if (typeof PDFViewerApplication !== 'undefined' && 
                PDFViewerApplication.pdfDocument) {
                console.log('PDF zaten yüklü, toolbar gösteriliyor...');
                pdfLoaded = true;
                showToolbar();
                initCustomToolbar();
            }
        }
        
        // Hemen başlat
        initApplication();
        checkIfPDFAlreadyLoaded();
        
        // PDF.js yüklenmesini bekle
        setTimeout(checkIfPDFAlreadyLoaded, 1000);
        
        // Flutter channel hazırlığı
        if (window.flutter_inappwebview) {
            console.log('Flutter InAppWebView tespit edildi');
        }
    });
});
</script>
    
    
    
    
    
    
  </body>
</html>
