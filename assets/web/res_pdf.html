<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="pdf-lib.min.js"></script>
    <script src="lang.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #e74c3c;
            --primary-dark: #c0392b;
            --success-color: #27ae60;
            --success-dark: #219a52;
            --text-color: #2c3e50;
            --text-light: #7f8c8d;
            --bg-color: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #e9ecef;
            --border-color: #e0e0e0;
            --shadow-color: rgba(231, 76, 60, 0.1);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --primary-color: #e74c3c;
                --primary-dark: #c0392b;
                --success-color: #27ae60;
                --success-dark: #219a52;
                --text-color: #f0f0f0;
                --text-light: #b0b0b0;
                --bg-color: #1a1a1a;
                --bg-secondary: #2d2d2d;
                --bg-tertiary: #3a3a3a;
                --border-color: #444444;
                --shadow-color: rgba(0, 0, 0, 0.3);
            }
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
            min-height: 60vh;
            display: flex;
            flex-direction: column;
            padding: 10px;
            color: var(--text-color);
            transition: background 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 400px;
            width: 90%;
            background: var(--bg-color);
            border-radius: 15px;
            box-shadow: 0 5px 15px var(--shadow-color);
            padding: 15px;
            margin: 10px auto;
            flex: 1;
            display: flex;
            flex-direction: column;
            transition: background 0.3s ease, box-shadow 0.3s ease;
        }

        .upload-area {
            border: 2px dashed var(--primary-color);
            border-radius: 12px;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(231, 76, 60, 0.05);
            margin-bottom: 12px;
            flex-shrink: 0;
        }

        .upload-area:hover {
            background: rgba(231, 76, 60, 0.1);
            border-color: var(--primary-dark);
        }

        .upload-icon {
            width: 50px;
            height: 50px;
            margin: 0 auto 10px auto;
            color: var(--primary-color);
        }

        .upload-icon svg {
            width: 100%;
            height: 100%;
        }

        .upload-text {
            color: var(--primary-color);
            font-size: 15px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .upload-subtext {
            color: var(--text-light);
            font-size: 11px;
        }

        #fileInput {
            display: none;
        }

        .file-info {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 12px;
            display: none;
            flex-shrink: 0;
        }

        .file-info.visible {
            display: block;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 12px;
        }

        .info-label {
            color: var(--text-light);
            font-weight: 500;
        }

        .info-value {
            color: var(--text-color);
            font-weight: bold;
        }

        .page-size-container {
            margin-bottom: 20px;
            flex-shrink: 0;
        }

        .size-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .size-label {
            font-size: 13px;
            font-weight: bold;
            color: var(--text-color);
        }

        .size-value {
            font-size: 13px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .page-size-select {
            width: 90%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background: var(--bg-color);
            color: var(--text-color);
            font-size: 13px;
            cursor: pointer;
            margin-bottom: 8px;
        }

        .size-marks {
            display: flex;
            justify-content: space-between;
            margin-top: 4px;
            font-size: 10px;
            color: var(--text-light);
        }

        .mark {
            text-align: center;
            flex: 1;
        }

        .progress-container {
            background: var(--bg-tertiary);
            border-radius: 8px;
            height: 6px;
            margin: 12px 0;
            overflow: hidden;
            display: none;
            flex-shrink: 0;
        }

        .progress-container.visible {
            display: block;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--primary-color), var(--primary-dark));
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .convert-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 15px;
            font-weight: bold;
            width: 100%;
            transition: all 0.3s ease;
            margin-bottom: 15px;
            flex-shrink: 0;
        }

        .convert-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        .convert-btn:disabled {
            background: var(--text-light);
            cursor: not-allowed;
            transform: none;
        }

        .result {
            text-align: center;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            display: none;
            flex-shrink: 0;
        }

        .result.visible {
            display: block;
        }

        .result.success {
            background: rgba(39, 174, 96, 0.1);
            border: 1px solid var(--success-color);
            color: var(--success-color);
        }

        .result.error {
            background: rgba(231, 76, 60, 0.1);
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }

        .download-btn {
            background: var(--success-color);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: bold;
            margin-top: 8px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .download-btn:hover {
            background: var(--success-dark);
            transform: translateY(-1px);
        }

        .image-preview {
            max-width: 90%;
            max-height: 100px;
            border-radius: 8px;
            margin: 8px auto;
            display: none;
            border: 2px solid var(--border-color);
        }

        .image-preview.visible {
            display: block;
        }

        .content-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 0;
            gap: 10px;
        }

        .bottom-space {
            height: 10px;
            flex-shrink: 0;
        }

        @media (max-width: 480px) {
            .container {
                padding: 12px;
                margin: 5px auto;
            }
            
            .upload-area {
                padding: 12px 8px;
            }
            
            .upload-icon {
                width: 45px;
                height: 45px;
                margin-bottom: 8px;
            }
            
            .convert-btn {
                padding: 10px;
                font-size: 14px;
                margin-bottom: 12px;
            }
            
            .bottom-space {
                height: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="content-area">
            <!-- ÃœST KISIM: Resim AlanÄ± ve Bilgiler -->
            <div>
                <!-- Resim YÃ¼kleme AlanÄ± -->
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19,13a1,1,0,0,0-1,1v.38L16.52,12.9a2.79,2.79,0,0,0-3.93,0l-.7.7L9.41,11.12a2.85,2.85,0,0,0-3.93,0L4,12.6V7A1,1,0,0,1,5,6h7a1,1,0,0,0,0-2H5A3,3,0,0,0,2,7V19a3,3,0,0,0,3,3H17a3,3,0,0,0,3-3V14A1,1,0,0,0,19,13ZM5,20a1,1,0,0,1-1-1V15.43l2.9-2.9a.79.79,0,0,1,1.09,0l3.17,3.17,0,0L15.46,20Zm13-1a1,1,0,0,1-1,1H7.63l4.94-4.94a.78.78,0,0,1,1.07,0L18,17.21ZM22.71,4.29l-3-3a1,1,0,0,0-.33-.21,1,1,0,0,0-.76,0,1,1,0,0,0-.33.21l-3,3a1,1,0,0,0,1.42,1.42L18,4.41V10a1,1,0,0,0,2,0V4.41l1.29,1.3a1,1,0,0,0,1.42,0A1,1,0,0,0,22.71,4.29Z"/>
                        </svg>
                    </div>
                    <div class="upload-text" data-key="selectImage">RESMÄ° SEÃ‡Ä°N</div>
                    <div class="upload-subtext" data-key="selectImageSubtext">PDF'ye dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in resim dosyasÄ±nÄ± seÃ§in</div>
                    <input type="file" id="fileInput" accept="image/*">
                </div>

                <!-- Resim Ã–nizleme -->
                <img id="imagePreview" class="image-preview" alt="Resim Ã¶nizleme">

                <!-- Dosya Bilgileri -->
                <div class="file-info" id="fileInfo">
                    <div class="info-row">
                        <span class="info-label" data-key="fileName">Dosya AdÄ±:</span>
                        <span class="info-value" id="fileName">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label" data-key="fileSize">Boyut:</span>
                        <span class="info-value" id="fileSize">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label" data-key="fileType">TÃ¼r:</span>
                        <span class="info-value" id="fileType">-</span>
                    </div>
                </div>

                <!-- SonuÃ§ -->
                <div class="result" id="result"></div>
            </div>

            <!-- ALT KISIM: Sayfa Boyutu ve Buton -->
            <div>
                <!-- Sayfa Boyutu SeÃ§imi -->
                <div class="page-size-container">
                    <div class="size-header">
                        <span class="size-label" data-key="pageSize">Sayfa Boyutu</span>
                        <span class="size-value" id="sizeValue">A4</span>
                    </div>
                    <select class="page-size-select" id="pageSizeSelect">
                        <option value="a4" data-key="a4">A4 (210Ã—297mm)</option>
                        <option value="letter" data-key="letter">Letter (216Ã—279mm)</option>
                        <option value="legal" data-key="legal">Legal (216Ã—356mm)</option>
                        <option value="a3" data-key="a3">A3 (297Ã—420mm)</option>
                        <option value="a5" data-key="a5">A5 (148Ã—210mm)</option>
                        <option value="fit" data-key="fitImage">Resme SÄ±ÄŸdÄ±r</option>
                    </select>
                </div>

                <!-- Ä°lerleme Ã‡ubuÄŸu -->
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>

                <!-- DÃ¶nÃ¼ÅŸtÃ¼r Butonu -->
                <button class="convert-btn" id="convertBtn" disabled data-key="convertToPdf">PDF'E DÃ–NÃœÅTÃœR</button>
                
                <!-- Alt BoÅŸluk -->
                <div class="bottom-space"></div>
            </div>
        </div>
    </div>

    <script>
        // Dil Ã§evirileri
        const translations = {
            tr: {
                selectImage: "RESMÄ° SEÃ‡Ä°N",
                selectImageSubtext: "PDF'ye dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in resim dosyasÄ±nÄ± seÃ§in",
                fileName: "Dosya AdÄ±:",
                fileSize: "Boyut:",
                fileType: "TÃ¼r:",
                pageSize: "Sayfa Boyutu",
                convertToPdf: "PDF'E DÃ–NÃœÅTÃœR",
                a4: "A4 (210Ã—297mm)",
                letter: "Letter (216Ã—279mm)",
                legal: "Legal (216Ã—356mm)",
                a3: "A3 (297Ã—420mm)",
                a5: "A5 (148Ã—210mm)",
                fitImage: "Resme SÄ±ÄŸdÄ±r",
                imageUploaded: "Resim baÅŸarÄ±yla yÃ¼klendi!",
                selectImageError: "LÃ¼tfen bir resim dosyasÄ± seÃ§in!",
                creatingPdf: "ğŸ“„ PDF oluÅŸturuluyor...",
                pdfCreated: "âœ… PDF baÅŸarÄ±yla oluÅŸturuldu!",
                pdfSaved: "âœ… DosyanÄ±z Download/PDF Reader <br> Konumuna Kaydedildi!",
                savePdf: "ğŸ’¾ PDF'Ä° KAYDET",
                error: "âŒ Hata: ",
                conversionError: "Resim PDF'e dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lemedi: "
            },
            en: {
                selectImage: "SELECT IMAGE",
                selectImageSubtext: "Select an image file to convert to PDF",
                fileName: "File Name:",
                fileSize: "Size:",
                fileType: "Type:",
                pageSize: "Page Size",
                convertToPdf: "CONVERT TO PDF",
                a4: "A4 (210Ã—297mm)",
                letter: "Letter (216Ã—279mm)",
                legal: "Legal (216Ã—356mm)",
                a3: "A3 (297Ã—420mm)",
                a5: "A5 (148Ã—210mm)",
                fitImage: "Fit to Image",
                imageUploaded: "Image uploaded successfully!",
                selectImageError: "Please select an image file!",
                creatingPdf: "ğŸ“„ Creating PDF...",
                pdfCreated: "âœ… PDF created successfully!",
                pdfSaved: "âœ… Your file has been saved to Download/PDF Reader <br> location!",
                savePdf: "ğŸ’¾ SAVE PDF",
                error: "âŒ Error: ",
                conversionError: "Image could not be converted to PDF: "
            },
            ar: {
                selectImage: "Ø§Ø®ØªØ± Ø§Ù„ØµÙˆØ±Ø©",
                selectImageSubtext: "Ø§Ø®ØªØ± Ù…Ù„Ù ØµÙˆØ±Ø© Ù„ØªØ­ÙˆÙŠÙ„Ù‡ Ø¥Ù„Ù‰ PDF",
                fileName: "Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù:",
                fileSize: "Ø§Ù„Ø­Ø¬Ù…:",
                fileType: "Ø§Ù„Ù†ÙˆØ¹:",
                pageSize: "Ø­Ø¬Ù… Ø§Ù„ØµÙØ­Ø©",
                convertToPdf: "ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ PDF",
                a4: "A4 (210Ã—297Ù…Ù…)",
                letter: "Letter (216Ã—279Ù…Ù…)",
                legal: "Legal (216Ã—356Ù…Ù…)",
                a3: "A3 (297Ã—420Ù…Ù…)",
                a5: "A5 (148Ã—210Ù…Ù…)",
                fitImage: "Ù…Ù„Ø§Ø¡Ù…Ø© Ù„Ù„ØµÙˆØ±Ø©",
                imageUploaded: "ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­!",
                selectImageError: "ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ØµÙˆØ±Ø©!",
                creatingPdf: "ğŸ“„ Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ PDF...",
                pdfCreated: "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ PDF Ø¨Ù†Ø¬Ø§Ø­!",
                pdfSaved: "âœ… ØªÙ… Ø­ÙØ¸ Ù…Ù„ÙÙƒ ÙÙŠ Ù…Ø¬Ù„Ø¯ Ø§Ù„ØªÙ†Ø²ÙŠÙ„/Ù‚Ø§Ø±Ø¦ PDF <br> !",
                savePdf: "ğŸ’¾ Ø­ÙØ¸ PDF",
                error: "âŒ Ø®Ø·Ø£: ",
                conversionError: "ØªØ¹Ø°Ø± ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ PDF: "
            },
            bn: {
                selectImage: "à¦›à¦¬à¦¿ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à§à¦¨",
                selectImageSubtext: "PDF-à¦ à¦°à§‚à¦ªà¦¾à¦¨à§à¦¤à¦° à¦•à¦°à¦¤à§‡ à¦à¦•à¦Ÿà¦¿ à¦›à¦¬à¦¿ à¦«à¦¾à¦‡à¦² à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à§à¦¨",
                fileName: "à¦«à¦¾à¦‡à¦²à§‡à¦° à¦¨à¦¾à¦®:",
                fileSize: "à¦†à¦•à¦¾à¦°:",
                fileType: "à¦ªà§à¦°à¦•à¦¾à¦°:",
                pageSize: "à¦ªà§ƒà¦·à§à¦ à¦¾à¦° à¦†à¦•à¦¾à¦°",
                convertToPdf: "PDF-à¦ à¦°à§‚à¦ªà¦¾à¦¨à§à¦¤à¦° à¦•à¦°à§à¦¨",
                a4: "A4 (210Ã—297à¦®à¦¿à¦®à¦¿)",
                letter: "Letter (216Ã—279à¦®à¦¿à¦®à¦¿)",
                legal: "Legal (216Ã—356à¦®à¦¿à¦®à¦¿)",
                a3: "A3 (297Ã—420à¦®à¦¿à¦®à¦¿)",
                a5: "A5 (148Ã—210à¦®à¦¿à¦®à¦¿)",
                fitImage: "à¦›à¦¬à¦¿à¦° à¦¸à¦¾à¦¥à§‡ à¦«à¦¿à¦Ÿ à¦•à¦°à§à¦¨",
                imageUploaded: "à¦›à¦¬à¦¿ à¦¸à¦«à¦²à¦­à¦¾à¦¬à§‡ à¦†à¦ªà¦²à§‹à¦¡ à¦¹à¦¯à¦¼à§‡à¦›à§‡!",
                selectImageError: "à¦¦à¦¯à¦¼à¦¾ à¦•à¦°à§‡ à¦à¦•à¦Ÿà¦¿ à¦›à¦¬à¦¿ à¦«à¦¾à¦‡à¦² à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à§à¦¨!",
                creatingPdf: "ğŸ“„ PDF à¦¤à§ˆà¦°à¦¿ à¦•à¦°à¦¾ à¦¹à¦šà§à¦›à§‡...",
                pdfCreated: "âœ… PDF à¦¸à¦«à¦²à¦­à¦¾à¦¬à§‡ à¦¤à§ˆà¦°à¦¿ à¦¹à¦¯à¦¼à§‡à¦›à§‡!",
                pdfSaved: "âœ… à¦†à¦ªà¦¨à¦¾à¦° à¦«à¦¾à¦‡à¦² à¦¡à¦¾à¦‰à¦¨à¦²à§‹à¦¡/PDF à¦°à¦¿à¦¡à¦¾à¦° <br> à¦…à¦¬à¦¸à§à¦¥à¦¾à¦¨à§‡ à¦¸à¦‚à¦°à¦•à§à¦·à¦¿à¦¤ à¦¹à¦¯à¦¼à§‡à¦›à§‡!",
                savePdf: "ğŸ’¾ PDF à¦¸à¦‚à¦°à¦•à§à¦·à¦£ à¦•à¦°à§à¦¨",
                error: "âŒ à¦¤à§à¦°à§à¦Ÿà¦¿: ",
                conversionError: "à¦›à¦¬à¦¿à¦Ÿà¦¿ PDF-à¦ à¦°à§‚à¦ªà¦¾à¦¨à§à¦¤à¦° à¦•à¦°à¦¾ à¦¯à¦¾à¦¯à¦¼à¦¨à¦¿: "
            },
            de: {
                selectImage: "BILD AUSWÃ„HLEN",
                selectImageSubtext: "WÃ¤hlen Sie eine Bilddatei zur Konvertierung in PDF",
                fileName: "Dateiname:",
                fileSize: "GrÃ¶ÃŸe:",
                fileType: "Typ:",
                pageSize: "SeitengrÃ¶ÃŸe",
                convertToPdf: "ZU PDF KONVERTIEREN",
                a4: "A4 (210Ã—297mm)",
                letter: "Letter (216Ã—279mm)",
                legal: "Legal (216Ã—356mm)",
                a3: "A3 (297Ã—420mm)",
                a5: "A5 (148Ã—210mm)",
                fitImage: "An Bild anpassen",
                imageUploaded: "Bild erfolgreich hochgeladen!",
                selectImageError: "Bitte wÃ¤hlen Sie eine Bilddatei!",
                creatingPdf: "ğŸ“„ PDF wird erstellt...",
                pdfCreated: "âœ… PDF erfolgreich erstellt!",
                pdfSaved: "âœ… Ihre Datei wurde im Download/PDF Reader <br> Speicherort gespeichert!",
                savePdf: "ğŸ’¾ PDF SPEICHERN",
                error: "âŒ Fehler: ",
                conversionError: "Bild konnte nicht in PDF konvertiert werden: "
            },
            es: {
                selectImage: "SELECCIONAR IMAGEN",
                selectImageSubtext: "Seleccione un archivo de imagen para convertir a PDF",
                fileName: "Nombre del archivo:",
                fileSize: "TamaÃ±o:",
                fileType: "Tipo:",
                pageSize: "TamaÃ±o de pÃ¡gina",
                convertToPdf: "CONVERTIR A PDF",
                a4: "A4 (210Ã—297mm)",
                letter: "Letter (216Ã—279mm)",
                legal: "Legal (216Ã—356mm)",
                a3: "A3 (297Ã—420mm)",
                a5: "A5 (148Ã—210mm)",
                fitImage: "Ajustar a imagen",
                imageUploaded: "Â¡Imagen cargada exitosamente!",
                selectImageError: "Â¡Por favor seleccione un archivo de imagen!",
                creatingPdf: "ğŸ“„ Creando PDF...",
                pdfCreated: "âœ… Â¡PDF creado exitosamente!",
                pdfSaved: "âœ… Su archivo ha sido guardado en la ubicaciÃ³n <br> de Descargas/PDF Reader!",
                savePdf: "ğŸ’¾ GUARDAR PDF",
                error: "âŒ Error: ",
                conversionError: "No se pudo convertir la imagen a PDF: "
            },
            fr: {
                selectImage: "SÃ‰LECTIONNER L'IMAGE",
                selectImageSubtext: "SÃ©lectionnez un fichier image Ã  convertir en PDF",
                fileName: "Nom du fichier:",
                fileSize: "Taille:",
                fileType: "Type:",
                pageSize: "Taille de page",
                convertToPdf: "CONVERTIR EN PDF",
                a4: "A4 (210Ã—297mm)",
                letter: "Letter (216Ã—279mm)",
                legal: "Legal (216Ã—356mm)",
                a3: "A3 (297Ã—420mm)",
                a5: "A5 (148Ã—210mm)",
                fitImage: "Ajuster Ã  l'image",
                imageUploaded: "Image tÃ©lÃ©chargÃ©e avec succÃ¨s!",
                selectImageError: "Veuillez sÃ©lectionner un fichier image!",
                creatingPdf: "ğŸ“„ CrÃ©ation du PDF...",
                pdfCreated: "âœ… PDF crÃ©Ã© avec succÃ¨s!",
                pdfSaved: "âœ… Votre fichier a Ã©tÃ© enregistrÃ© dans l'emplacement <br> TÃ©lÃ©chargements/PDF Reader!",
                savePdf: "ğŸ’¾ ENREGISTRER PDF",
                error: "âŒ Erreur: ",
                conversionError: "L'image n'a pas pu Ãªtre convertie en PDF: "
            },
            hi: {
                selectImage: "à¤›à¤µà¤¿ à¤šà¥à¤¨à¥‡à¤‚",
                selectImageSubtext: "PDF à¤®à¥‡à¤‚ à¤¬à¤¦à¤²à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤à¤• à¤›à¤µà¤¿ à¤«à¤¼à¤¾à¤‡à¤² à¤šà¥à¤¨à¥‡à¤‚",
                fileName: "à¤«à¤¼à¤¾à¤‡à¤² à¤¨à¤¾à¤®:",
                fileSize: "à¤†à¤•à¤¾à¤°:",
                fileType: "à¤ªà¥à¤°à¤•à¤¾à¤°:",
                pageSize: "à¤ªà¥ƒà¤·à¥à¤  à¤†à¤•à¤¾à¤°",
                convertToPdf: "PDF à¤®à¥‡à¤‚ à¤¬à¤¦à¤²à¥‡à¤‚",
                a4: "A4 (210Ã—297à¤®à¤¿à¤®à¥€)",
                letter: "Letter (216Ã—279à¤®à¤¿à¤®à¥€)",
                legal: "Legal (216Ã—356à¤®à¤¿à¤®à¥€)",
                a3: "A3 (297Ã—420à¤®à¤¿à¤®à¥€)",
                a5: "A5 (148Ã—210à¤®à¤¿à¤®à¥€)",
                fitImage: "à¤›à¤µà¤¿ à¤®à¥‡à¤‚ à¤«à¤¼à¤¿à¤Ÿ à¤•à¤°à¥‡à¤‚",
                imageUploaded: "à¤›à¤µà¤¿ à¤¸à¤«à¤²à¤¤à¤¾à¤ªà¥‚à¤°à¥à¤µà¤• à¤…à¤ªà¤²à¥‹à¤¡ à¤•à¥€ à¤—à¤ˆ!",
                selectImageError: "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤à¤• à¤›à¤µà¤¿ à¤«à¤¼à¤¾à¤‡à¤² à¤šà¥à¤¨à¥‡à¤‚!",
                creatingPdf: "ğŸ“„ PDF à¤¬à¤¨à¤¾à¤¯à¤¾ à¤œà¤¾ à¤°à¤¹à¤¾ à¤¹à¥ˆ...",
                pdfCreated: "âœ… PDF à¤¸à¤«à¤²à¤¤à¤¾à¤ªà¥‚à¤°à¥à¤µà¤• à¤¬à¤¨à¤¾à¤¯à¤¾ à¤—à¤¯à¤¾!",
                pdfSaved: "âœ… à¤†à¤ªà¤•à¥€ à¤«à¤¼à¤¾à¤‡à¤² à¤¡à¤¾à¤‰à¤¨à¤²à¥‹à¤¡/PDF à¤°à¥€à¤¡à¤° <br> à¤¸à¥à¤¥à¤¾à¤¨ à¤ªà¤° à¤¸à¤¹à¥‡à¤œà¥€ à¤—à¤ˆ à¤¹à¥ˆ!",
                savePdf: "ğŸ’¾ PDF à¤¸à¤¹à¥‡à¤œà¥‡à¤‚",
                error: "âŒ à¤¤à¥à¤°à¥à¤Ÿà¤¿: ",
                conversionError: "à¤›à¤µà¤¿ à¤•à¥‹ PDF à¤®à¥‡à¤‚ à¤¨à¤¹à¥€à¤‚ à¤¬à¤¦à¤²à¤¾ à¤œà¤¾ à¤¸à¤•à¤¾: "
            },
            id: {
                selectImage: "PILIH GAMBAR",
                selectImageSubtext: "Pilih file gambar untuk dikonversi ke PDF",
                fileName: "Nama File:",
                fileSize: "Ukuran:",
                fileType: "Jenis:",
                pageSize: "Ukuran Halaman",
                convertToPdf: "KONVERSI KE PDF",
                a4: "A4 (210Ã—297mm)",
                letter: "Letter (216Ã—279mm)",
                legal: "Legal (216Ã—356mm)",
                a3: "A3 (297Ã—420mm)",
                a5: "A5 (148Ã—210mm)",
                fitImage: "Sesuaikan dengan Gambar",
                imageUploaded: "Gambar berhasil diunggah!",
                selectImageError: "Silakan pilih file gambar!",
                creatingPdf: "ğŸ“„ Membuat PDF...",
                pdfCreated: "âœ… PDF berhasil dibuat!",
                pdfSaved: "âœ… File Anda telah disimpan di lokasi <br> Download/PDF Reader!",
                savePdf: "ğŸ’¾ SIMPAN PDF",
                error: "âŒ Kesalahan: ",
                conversionError: "Gambar tidak dapat dikonversi ke PDF: "
            },
            ja: {
                selectImage: "ç”»åƒã‚’é¸æŠ",
                selectImageSubtext: "PDFã«å¤‰æ›ã™ã‚‹ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„",
                fileName: "ãƒ•ã‚¡ã‚¤ãƒ«å:",
                fileSize: "ã‚µã‚¤ã‚º:",
                fileType: "ç¨®é¡:",
                pageSize: "ãƒšãƒ¼ã‚¸ã‚µã‚¤ã‚º",
                convertToPdf: "PDFã«å¤‰æ›",
                a4: "A4 (210Ã—297mm)",
                letter: "Letter (216Ã—279mm)",
                legal: "Legal (216Ã—356mm)",
                a3: "A3 (297Ã—420mm)",
                a5: "A5 (148Ã—210mm)",
                fitImage: "ç”»åƒã«åˆã‚ã›ã‚‹",
                imageUploaded: "ç”»åƒãŒæ­£å¸¸ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã—ãŸï¼",
                selectImageError: "ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼",
                creatingPdf: "ğŸ“„ PDFã‚’ä½œæˆä¸­...",
                pdfCreated: "âœ… PDFãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸï¼",
                pdfSaved: "âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰/PDFãƒªãƒ¼ãƒ€ãƒ¼ã® <br> å ´æ‰€ã«ä¿å­˜ã•ã‚Œã¾ã—ãŸï¼",
                savePdf: "ğŸ’¾ PDFã‚’ä¿å­˜",
                error: "âŒ ã‚¨ãƒ©ãƒ¼: ",
                conversionError: "ç”»åƒã‚’PDFã«å¤‰æ›ã§ãã¾ã›ã‚“ã§ã—ãŸ: "
            },
            ku: {
                selectImage: "WÃŠNEYÃŠ BÄ°JÃŠRE",
                selectImageSubtext: "Ji bo veguherÃ®na PDFÃª pelÃª wÃªneyÃª hilbijÃªre",
                fileName: "NavÃª PelÃª:",
                fileSize: "MezinahÃ®:",
                fileType: "Cure:",
                pageSize: "Mezinahiya RÃ»pelÃª",
                convertToPdf: "BIGUHERÃNE PDF",
                a4: "A4 (210Ã—297mm)",
                letter: "Letter (216Ã—279mm)",
                legal: "Legal (216Ã—356mm)",
                a3: "A3 (297Ã—420mm)",
                a5: "A5 (148Ã—210mm)",
                fitImage: "Li WÃªneyÃª BicÃ®h Bibe",
                imageUploaded: "WÃªne bi serketÃ® hate barkirin!",
                selectImageError: "Ji kerema xwe pelÃª wÃªneyÃª hilbijÃªre!",
                creatingPdf: "ğŸ“„ PDF tÃª Ã§Ãªkirin...",
                pdfCreated: "âœ… PDF bi serketÃ® hate Ã§Ãªkirin!",
                pdfSaved: "âœ… PelÃª we li cihÃª Daxistin/PDF Reader <br> hate tomarkirin!",
                savePdf: "ğŸ’¾ PDF BÄ°PARÃŠZE",
                error: "âŒ Ã‡ewtÃ®: ",
                conversionError: "WÃªne nikaribÃ» were veguherandin PDF: "
            },
            pt: {
                selectImage: "SELECIONAR IMAGEM",
                selectImageSubtext: "Selecione um arquivo de imagem para converter para PDF",
                fileName: "Nome do Arquivo:",
                fileSize: "Tamanho:",
                fileType: "Tipo:",
                pageSize: "Tamanho da PÃ¡gina",
                convertToPdf: "CONVERTER PARA PDF",
                a4: "A4 (210Ã—297mm)",
                letter: "Letter (216Ã—279mm)",
                legal: "Legal (216Ã—356mm)",
                a3: "A3 (297Ã—420mm)",
                a5: "A5 (148Ã—210mm)",
                fitImage: "Ajustar Ã  Imagem",
                imageUploaded: "Imagem carregada com sucesso!",
                selectImageError: "Por favor, selecione um arquivo de imagem!",
                creatingPdf: "ğŸ“„ Criando PDF...",
                pdfCreated: "âœ… PDF criado com sucesso!",
                pdfSaved: "âœ… Seu arquivo foi salvo no local <br> Download/PDF Reader!",
                savePdf: "ğŸ’¾ SALVAR PDF",
                error: "âŒ Erro: ",
                conversionError: "A imagem nÃ£o pÃ´de ser convertida para PDF: "
            },
            ru: {
                selectImage: "Ğ’Ğ«Ğ‘Ğ ĞĞ¢Ğ¬ Ğ˜Ğ—ĞĞ‘Ğ ĞĞ–Ğ•ĞĞ˜Ğ•",
                selectImageSubtext: "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ² PDF",
                fileName: "Ğ˜Ğ¼Ñ Ñ„Ğ°Ğ¹Ğ»Ğ°:",
                fileSize: "Ğ Ğ°Ğ·Ğ¼ĞµÑ€:",
                fileType: "Ğ¢Ğ¸Ğ¿:",
                pageSize: "Ğ Ğ°Ğ·Ğ¼ĞµÑ€ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹",
                convertToPdf: "ĞšĞĞĞ’Ğ•Ğ Ğ¢Ğ˜Ğ ĞĞ’ĞĞ¢Ğ¬ Ğ’ PDF",
                a4: "A4 (210Ã—297Ğ¼Ğ¼)",
                letter: "Letter (216Ã—279Ğ¼Ğ¼)",
                legal: "Legal (216Ã—356Ğ¼Ğ¼)",
                a3: "A3 (297Ã—420Ğ¼Ğ¼)",
                a5: "A5 (148Ã—210Ğ¼Ğ¼)",
                fitImage: "ĞŸĞ¾Ğ´Ğ¾Ğ³Ğ½Ğ°Ñ‚ÑŒ Ğ¿Ğ¾Ğ´ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ",
                imageUploaded: "Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ğ¾!",
                selectImageError: "ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ!",
                creatingPdf: "ğŸ“„ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ PDF...",
                pdfCreated: "âœ… PDF ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ½!",
                pdfSaved: "âœ… Ğ’Ğ°Ñˆ Ñ„Ğ°Ğ¹Ğ» ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½ Ğ² Ğ¿Ğ°Ğ¿ĞºĞµ <br> Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸/PDF Reader!",
                savePdf: "ğŸ’¾ Ğ¡ĞĞ¥Ğ ĞĞĞ˜Ğ¢Ğ¬ PDF",
                error: "âŒ ĞÑˆĞ¸Ğ±ĞºĞ°: ",
                conversionError: "ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ² PDF: "
            },
            sw: {
                selectImage: "CHAGUA PICHA",
                selectImageSubtext: "Chagua faili la picha kubadilisha ku PDF",
                fileName: "Jina la Faili:",
                fileSize: "Ukubwa:",
                fileType: "Aina:",
                pageSize: "Ukubwa wa Ukurasa",
                convertToPdf: "BADILISHA KWENDA PDF",
                a4: "A4 (210Ã—297mm)",
                letter: "Letter (216Ã—279mm)",
                legal: "Legal (216Ã—356mm)",
                a3: "A3 (297Ã—420mm)",
                a5: "A5 (148Ã—210mm)",
                fitImage: "Linganisha na Picha",
                imageUploaded: "Picha imepakiwa kikamilifu!",
                selectImageError: "Tafadhali chagua faili la picha!",
                creatingPdf: "ğŸ“„ Inatengeneza PDF...",
                pdfCreated: "âœ… PDF imetengenezwa kikamilifu!",
                pdfSaved: "âœ… Faili yako imehifadhiwa kwenye eneo la <br> Upakuaji/PDF Reader!",
                savePdf: "ğŸ’¾ HIFADHI PDF",
                error: "âŒ Kosa: ",
                conversionError: "Haikuweza kubadilisha picha ku PDF: "
            },
            ur: {
                selectImage: "ØªØµÙˆÛŒØ± Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº",
                selectImageSubtext: "PDF Ù…ÛŒÚº ØªØ¨Ø¯ÛŒÙ„ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø§ÛŒÚ© ØªØµÙˆÛŒØ±ÛŒ ÙØ§Ø¦Ù„ Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº",
                fileName: "ÙØ§Ø¦Ù„ Ú©Ø§ Ù†Ø§Ù…:",
                fileSize: "Ø³Ø§Ø¦Ø²:",
                fileType: "Ù‚Ø³Ù…:",
                pageSize: "ØµÙØ­Û’ Ú©Ø§ Ø³Ø§Ø¦Ø²",
                convertToPdf: "PDF Ù…ÛŒÚº ØªØ¨Ø¯ÛŒÙ„ Ú©Ø±ÛŒÚº",
                a4: "A4 (210Ã—297Ù…Ù„ÛŒ Ù…ÛŒÙ¹Ø±)",
                letter: "Letter (216Ã—279Ù…Ù„ÛŒ Ù…ÛŒÙ¹Ø±)",
                legal: "Legal (216Ã—356Ù…Ù„ÛŒ Ù…ÛŒÙ¹Ø±)",
                a3: "A3 (297Ã—420Ù…Ù„ÛŒ Ù…ÛŒÙ¹Ø±)",
                a5: "A5 (148Ã—210Ù…Ù„ÛŒ Ù…ÛŒÙ¹Ø±)",
                fitImage: "ØªØµÙˆÛŒØ± Ú©Û’ Ù…Ø·Ø§Ø¨Ù‚ ÙÙ¹ Ú©Ø±ÛŒÚº",
                imageUploaded: "ØªØµÙˆÛŒØ± Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ Ø§Ù¾ Ù„ÙˆÚˆ ÛÙˆ Ú¯Ø¦ÛŒ!",
                selectImageError: "Ø¨Ø±Ø§Û Ú©Ø±Ù… Ø§ÛŒÚ© ØªØµÙˆÛŒØ±ÛŒ ÙØ§Ø¦Ù„ Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº!",
                creatingPdf: "ğŸ“„ PDF Ø¨Ù†Ø§ Ø±ÛØ§ ÛÛ’...",
                pdfCreated: "âœ… PDF Ú©Ø§Ù…ÛŒØ§Ø¨ÛŒ Ø³Û’ Ø¨Ù† Ú¯ÛŒØ§!",
                pdfSaved: "âœ… Ø¢Ù¾ Ú©ÛŒ ÙØ§Ø¦Ù„ ÚˆØ§Ø¤Ù† Ù„ÙˆÚˆ/PDF Ø±ÛŒÚˆØ± <br> Ù…Ù‚Ø§Ù… Ù¾Ø± Ù…Ø­ÙÙˆØ¸ ÛÙˆ Ú¯Ø¦ÛŒ ÛÛ’!",
                savePdf: "ğŸ’¾ PDF Ù…Ø­ÙÙˆØ¸ Ú©Ø±ÛŒÚº",
                error: "âŒ Ø®Ø±Ø§Ø¨ÛŒ: ",
                conversionError: "ØªØµÙˆÛŒØ± Ú©Ùˆ PDF Ù…ÛŒÚº ØªØ¨Ø¯ÛŒÙ„ Ù†ÛÛŒÚº Ú©ÛŒØ§ Ø¬Ø§ Ø³Ú©Ø§: "
            },
            za: {
                selectImage: "RESM BÄ°VÃŠJÄ°N",
                selectImageSubtext: "Ji bo veguherÃ®na PDFÃª pelÃª resmÃª hilbijÃªre",
                fileName: "NavÃª PelÃª:",
                fileSize: "MezinahÃ®:",
                fileType: "Cure:",
                pageSize: "Mezinahiya RÃ»pelÃª",
                convertToPdf: "BIGUHERÃNE PDF",
                a4: "A4 (210Ã—297mm)",
                letter: "Letter (216Ã—279mm)",
                legal: "Legal (216Ã—356mm)",
                a3: "A3 (297Ã—420mm)",
                a5: "A5 (148Ã—210mm)",
                fitImage: "Li ResmÃª BicÃ®h Bibe",
                imageUploaded: "Resm bi serketÃ® hate barkirin!",
                selectImageError: "Ji kerema xwe pelÃª resmÃª hilbijÃªre!",
                creatingPdf: "ğŸ“„ PDF tÃª Ã§Ãªkirin...",
                pdfCreated: "âœ… PDF bi serketÃ® hate Ã§Ãªkirin!",
                pdfSaved: "âœ… PelÃª we li cihÃª Daxistin/PDF Reader <br> hate tomarkirin!",
                savePdf: "ğŸ’¾ PDF BÄ°PARÃŠZE",
                error: "âŒ Ã‡ewtÃ®: ",
                conversionError: "Resm nikaribÃ» were veguherandin PDF: "
            },
            zh: {
                selectImage: "é€‰æ‹©å›¾ç‰‡",
                selectImageSubtext: "é€‰æ‹©è¦è½¬æ¢ä¸ºPDFçš„å›¾ç‰‡æ–‡ä»¶",
                fileName: "æ–‡ä»¶å:",
                fileSize: "å¤§å°:",
                fileType: "ç±»å‹:",
                pageSize: "é¡µé¢å¤§å°",
                convertToPdf: "è½¬æ¢ä¸ºPDF",
                a4: "A4 (210Ã—297æ¯«ç±³)",
                letter: "Letter (216Ã—279æ¯«ç±³)",
                legal: "Legal (216Ã—356æ¯«ç±³)",
                a3: "A3 (297Ã—420æ¯«ç±³)",
                a5: "A5 (148Ã—210æ¯«ç±³)",
                fitImage: "é€‚åº”å›¾ç‰‡",
                imageUploaded: "å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼",
                selectImageError: "è¯·é€‰æ‹©ä¸€ä¸ªå›¾ç‰‡æ–‡ä»¶ï¼",
                creatingPdf: "ğŸ“„ æ­£åœ¨åˆ›å»ºPDF...",
                pdfCreated: "âœ… PDFåˆ›å»ºæˆåŠŸï¼",
                pdfSaved: "âœ… æ‚¨çš„æ–‡ä»¶å·²ä¿å­˜åˆ°ä¸‹è½½/PDFé˜…è¯»å™¨ <br> ä½ç½®ï¼",
                savePdf: "ğŸ’¾ ä¿å­˜PDF",
                error: "âŒ é”™è¯¯: ",
                conversionError: "æ— æ³•å°†å›¾ç‰‡è½¬æ¢ä¸ºPDF: "
            }
        };

        // Elementleri seÃ§
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const imagePreview = document.getElementById('imagePreview');
        const fileInfo = document.getElementById('fileInfo');
        const fileName = document.getElementById('fileName');
        const fileSize = document.getElementById('fileSize');
        const fileType = document.getElementById('fileType');
        const pageSizeSelect = document.getElementById('pageSizeSelect');
        const sizeValue = document.getElementById('sizeValue');
        const convertBtn = document.getElementById('convertBtn');
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');
        const result = document.getElementById('result');

        let selectedFile = null;
        let convertedBlob = null;
        let currentLanguage = 'tr'; // VarsayÄ±lan dil

        // Sayfa boyutlarÄ±
        const pageSizes = {
            a4: { width: 595.28, height: 841.89, name: "A4" },
            letter: { width: 612, height: 792, name: "Letter" },
            legal: { width: 612, height: 1008, name: "Legal" },
            a3: { width: 841.89, height: 1190.55, name: "A3" },
            a5: { width: 420.94, height: 595.28, name: "A5" },
            fit: { width: 0, height: 0, name: "Resme SÄ±ÄŸdÄ±r" }
        };

        // Lang.js'den dil deÄŸiÅŸikliÄŸini dinle
        function setupLanguageListener() {
            // Lang.js mevcut mu kontrol et
            if (typeof languageConfig !== 'undefined') {
                console.log('Lang.js yÃ¼klendi, mevcut dil:', languageConfig.getCurrent());
                
                // Lang.js'nin setLanguage fonksiyonunu override et
                const originalSetLanguage = languageConfig.setLanguage;
                languageConfig.setLanguage = function(langCode) {
                    const result = originalSetLanguage.call(this, langCode);
                    if (result) {
                        updateLanguage();
                    }
                    return result;
                };
                
                // Lang.js'de updateUIText fonksiyonu varsa, onu da override et
                if (typeof updateUIText !== 'undefined') {
                    window.updateUIText = function() {
                        updateLanguage();
                    };
                }
            } else {
                console.warn('Lang.js bulunamadÄ±, varsayÄ±lan dil kullanÄ±lacak');
            }
        }

        // Dil gÃ¼ncelleme fonksiyonu
        function updateLanguage() {
            // Lang.js'den mevcut dili al
            if (typeof languageConfig !== 'undefined' && languageConfig.getCurrent) {
                currentLanguage = languageConfig.getCurrent();
                console.log('Dil gÃ¼ncellendi:', currentLanguage);
            } else {
                console.log('Lang.js bulunamadÄ±, varsayÄ±lan dil kullanÄ±lÄ±yor:', currentLanguage);
            }
            
            // TÃ¼m Ã§eviri elementlerini gÃ¼ncelle
            const elements = document.querySelectorAll('[data-key]');
            elements.forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    element.textContent = translations[currentLanguage][key];
                } else if (translations['tr'] && translations['tr'][key]) {
                    // Fallback: TÃ¼rkÃ§e
                    element.textContent = translations['tr'][key];
                }
            });
            
            // Sayfa boyutu seÃ§eneklerini gÃ¼ncelle
            const options = pageSizeSelect.querySelectorAll('option');
            options.forEach(option => {
                const key = option.getAttribute('data-key');
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    option.textContent = translations[currentLanguage][key];
                } else if (translations['tr'] && translations['tr'][key]) {
                    // Fallback: TÃ¼rkÃ§e
                    option.textContent = translations['tr'][key];
                }
            });
            
            // Mevcut seÃ§ili sayfa boyutunu gÃ¼ncelle
            const selectedOption = pageSizeSelect.options[pageSizeSelect.selectedIndex];
            if (selectedOption) {
                const sizeKey = selectedOption.value;
                if (pageSizes[sizeKey]) {
                    // Sayfa boyutu isimlerini de Ã§evirelim
                    const sizeNames = {
                        tr: { a4: "A4", letter: "Letter", legal: "Legal", a3: "A3", a5: "A5", fit: "Resme SÄ±ÄŸdÄ±r" },
                        en: { a4: "A4", letter: "Letter", legal: "Legal", a3: "A3", a5: "A5", fit: "Fit to Image" },
                        ar: { a4: "A4", letter: "Letter", legal: "Legal", a3: "A3", a5: "A5", fit: "Ù…Ù„Ø§Ø¡Ù…Ø© Ù„Ù„ØµÙˆØ±Ø©" },
                        // DiÄŸer diller iÃ§in de ekleyebilirsiniz
                    };
                    
                    if (sizeNames[currentLanguage] && sizeNames[currentLanguage][sizeKey]) {
                        sizeValue.textContent = sizeNames[currentLanguage][sizeKey];
                    } else {
                        sizeValue.textContent = pageSizes[sizeKey].name;
                    }
                }
            }
        }

        // Sistem temasÄ± deÄŸiÅŸikliÄŸini dinle
        const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
        
        function handleThemeChange(e) {
            console.log('Tema deÄŸiÅŸti:', e.matches ? 'dark' : 'light');
        }

        // Tema deÄŸiÅŸikliÄŸini dinle
        mediaQuery.addEventListener('change', handleThemeChange);

        // Sayfa boyutu deÄŸiÅŸtiÄŸinde
        pageSizeSelect.addEventListener('change', (e) => {
            const size = pageSizes[e.target.value];
            // Sayfa boyutu isimlerini Ã§evirelim
            const sizeNames = {
                tr: { a4: "A4", letter: "Letter", legal: "Legal", a3: "A3", a5: "A5", fit: "Resme SÄ±ÄŸdÄ±r" },
                en: { a4: "A4", letter: "Letter", legal: "Legal", a3: "A3", a5: "A5", fit: "Fit to Image" },
                ar: { a4: "A4", letter: "Letter", legal: "Legal", a3: "A3", a5: "A5", fit: "Ù…Ù„Ø§Ø¡Ù…Ø© Ù„Ù„ØµÙˆØ±Ø©" },
                // DiÄŸer diller iÃ§in de ekleyebilirsiniz
            };
            
            if (sizeNames[currentLanguage] && sizeNames[currentLanguage][e.target.value]) {
                sizeValue.textContent = sizeNames[currentLanguage][e.target.value];
            } else {
                sizeValue.textContent = size.name;
            }
        });

        // YÃ¼kleme alanÄ± etkileÅŸimleri
        uploadArea.addEventListener('click', () => fileInput.click());
        
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('active');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('active');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('active');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFileSelect(files[0]);
            }
        });

        // Dosya seÃ§imi
        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleFileSelect(e.target.files[0]);
            }
        });

        // Dosya iÅŸleme
        function handleFileSelect(file) {
            if (!file.type.startsWith('image/')) {
                showResult(getTranslation('selectImageError'), 'error');
                return;
            }

            selectedFile = file;
            
            // Dosya bilgilerini gÃ¶ster
            fileName.textContent = file.name.length > 20 ? file.name.substring(0, 20) + '...' : file.name;
            fileSize.textContent = formatBytes(file.size);
            fileType.textContent = file.type.split('/')[1].toUpperCase();
            fileInfo.classList.add('visible');
            
            // Resim Ã¶nizleme
            const reader = new FileReader();
            reader.onload = (e) => {
                imagePreview.src = e.target.result;
                imagePreview.classList.add('visible');
            };
            reader.readAsDataURL(file);
            
            // Butonu aktif et
            convertBtn.disabled = false;
            
            showResult(getTranslation('imageUploaded'), 'success');
        }

        // Ã‡eviri alma fonksiyonu
        function getTranslation(key) {
            if (translations[currentLanguage] && translations[currentLanguage][key]) {
                return translations[currentLanguage][key];
            } else if (translations['tr'] && translations['tr'][key]) {
                return translations['tr'][key];
            }
            return key;
        }

        // Boyut formatlama
        function formatBytes(bytes) {
            if (bytes === 0) return "0 B";
            const k = 1024;
            const sizes = ["B", "KB", "MB", "GB"];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + " " + sizes[i];
        }

        // Ä°lerleme gÃ¼ncelleme
        function updateProgress(percent) {
            progressBar.style.width = percent + '%';
        }

        // SonuÃ§ gÃ¶sterme
        function showResult(message, type) {
            result.innerHTML = message;
            result.className = `result visible ${type}`;
        }

        // PDF Kaydetme Fonksiyonu - GÃœNCELLENDÄ°
        function savePDF(blob, fileName) {
            // Flutter ortamÄ±nda mÄ± kontrol et
            if (window.flutter_inappwebview) {
                // Flutter iÃ§in dosya kaydetme
                window.flutter_inappwebview.callHandler('saveFile', {
                    fileName: fileName,
                    fileData: Array.from(new Uint8Array(blob))
                }).then(function(result) {
                    console.log('Dosya Flutter ile kaydedildi:', result);
                    showResult(getTranslation('pdfSaved'), 'success');
                }).catch(function(error) {
                    console.error('Flutter kaydetme hatasÄ±:', error);
                    // Fallback: normal indirme
                    downloadPDF(blob, fileName);
                });
            } else {
                // TarayÄ±cÄ± iÃ§in normal indirme
                downloadPDF(blob, fileName);
            }
        }

        // TarayÄ±cÄ± iÃ§in PDF indirme - GÃœNCELLENDÄ°
        function downloadPDF(blob, fileName) {
            // Sadece indirme linki oluÅŸtur, yeni sekmede aÃ§ma
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = fileName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showResult(getTranslation('pdfSaved'), 'success');
        }

        // Resmi PDF'ye dÃ¶nÃ¼ÅŸtÃ¼rme
        async function convertImageToPDF(file, pageSizeKey) {
            const selectedSize = pageSizes[pageSizeKey];
            
            showResult(getTranslation('creatingPdf'), 'info');
            updateProgress(10);
            progressContainer.classList.add('visible');

            try {
                // Resmi yÃ¼kle
                const arrayBuffer = await file.arrayBuffer();
                updateProgress(30);

                // Yeni PDF oluÅŸtur
                const pdfDoc = await PDFLib.PDFDocument.create();
                updateProgress(50);

                // Resmi PDF'ye embed et
                let image;
                const fileType = file.type.toLowerCase();
                
                if (fileType.includes('jpeg') || fileType.includes('jpg')) {
                    image = await pdfDoc.embedJpg(arrayBuffer);
                } else if (fileType.includes('png')) {
                    image = await pdfDoc.embedPng(arrayBuffer);
                } else {
                    // DiÄŸer formatlar iÃ§in JPEG'e Ã§evir
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    const img = new Image();
                    
                    await new Promise((resolve) => {
                        img.onload = resolve;
                        img.src = URL.createObjectURL(file);
                    });
                    
                    canvas.width = img.width;
                    canvas.height = img.height;
                    ctx.drawImage(img, 0, 0);
                    
                    const jpegDataUrl = canvas.toDataURL('image/jpeg', 0.9);
                    const jpegBytes = await fetch(jpegDataUrl).then(res => res.arrayBuffer());
                    image = await pdfDoc.embedJpg(jpegBytes);
                }

                updateProgress(70);

                // Sayfa boyutunu belirle
                let pageWidth, pageHeight;
                
                if (pageSizeKey === 'fit') {
                    // Resme sÄ±ÄŸdÄ±r
                    const aspectRatio = image.width / image.height;
                    const maxWidth = 595.28; // A4 geniÅŸlik
                    const maxHeight = 841.89; // A4 yÃ¼kseklik
                    
                    if (aspectRatio > 1) {
                        // Yatay resim
                        pageWidth = maxWidth;
                        pageHeight = maxWidth / aspectRatio;
                    } else {
                        // Dikey resim
                        pageHeight = maxHeight;
                        pageWidth = maxHeight * aspectRatio;
                    }
                } else {
                    // Standart sayfa boyutu
                    pageWidth = selectedSize.width;
                    pageHeight = selectedSize.height;
                }

                // Sayfa oluÅŸtur ve resmi ekle
                const page = pdfDoc.addPage([pageWidth, pageHeight]);
                
                // Resmi sayfaya sÄ±ÄŸdÄ±r
                const imageDims = image.scaleToFit(pageWidth, pageHeight);
                page.drawImage(image, {
                    x: (pageWidth - imageDims.width) / 2,
                    y: (pageHeight - imageDims.height) / 2,
                    width: imageDims.width,
                    height: imageDims.height,
                });

                updateProgress(90);

                // PDF'i kaydet
                const pdfBytes = await pdfDoc.save();
                updateProgress(100);

                // Blob oluÅŸtur
                convertedBlob = new Blob([pdfBytes], { type: "application/pdf" });
                
                showResult(getTranslation('pdfCreated'), 'success');

                // Kaydet butonu - GÃœNCELLENDÄ°
                const saveBtn = document.createElement('button');
                saveBtn.className = 'download-btn';
                saveBtn.textContent = getTranslation('savePdf');
                saveBtn.addEventListener('click', () => {
                    const baseName = file.name.split('.')[0];
                    const pdfName = `photo_cnvrt_${baseName}.pdf`;
                    savePDF(convertedBlob, pdfName);
                });
                result.appendChild(saveBtn);

                return convertedBlob;

            } catch (error) {
                console.error('DÃ¶nÃ¼ÅŸtÃ¼rme hatasÄ±:', error);
                throw new Error(getTranslation('conversionError') + error.message);
            }
        }

        // DÃ¶nÃ¼ÅŸtÃ¼rme butonu
        convertBtn.addEventListener('click', async () => {
            if (!selectedFile) {
                showResult(getTranslation('selectImageError'), 'error');
                return;
            }

            try {
                convertBtn.disabled = true;
                const pageSize = pageSizeSelect.value;
                await convertImageToPDF(selectedFile, pageSize);
            } catch (error) {
                console.error('DÃ¶nÃ¼ÅŸtÃ¼rme hatasÄ±:', error);
                showResult(getTranslation('error') + error.message, 'error');
            } finally {
                convertBtn.disabled = false;
            }
        });

        // Sayfa yÃ¼klendiÄŸinde temayÄ± kontrol et ve dili gÃ¼ncelle
        document.addEventListener('DOMContentLoaded', function() {
            handleThemeChange(mediaQuery);
            setupLanguageListener();
            updateLanguage();
            
            // Lang.js'nin yÃ¼klenmesini bekle
            setTimeout(updateLanguage, 100);
        });

        // Lang.js'nin yÃ¼klenip yÃ¼klenmediÄŸini kontrol et
        let langCheckCount = 0;
        const maxLangChecks = 10;
        const checkLangLoaded = setInterval(() => {
            if (typeof languageConfig !== 'undefined') {
                clearInterval(checkLangLoaded);
                setupLanguageListener();
                updateLanguage();
            } else if (langCheckCount >= maxLangChecks) {
                clearInterval(checkLangLoaded);
                console.warn('Lang.js yÃ¼klenemedi, varsayÄ±lan dil kullanÄ±lÄ±yor');
            }
            langCheckCount++;
        }, 200);
    </script>
</body>
</html>